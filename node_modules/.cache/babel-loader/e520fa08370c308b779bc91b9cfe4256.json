{"ast":null,"code":"var _jsxFileName = \"/Users/bag-yeongmi/react-workspace/todo-react-app/src/Components/pages/board/MarketWrite.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction MarketWrite() {\n  _s();\n\n  const [title, setTitle] = useState(\"\");\n  const [content, setContent] = useState(\"\");\n  const [tempFile, setTempFile] = useState();\n  const data = {\n    title: title,\n    content: content\n  }; // function Submit(e) {\n  //     e.preventDefault();\n  //     axios.defaults.headers.common['accessToken'] = `Bearer ${localStorage.getItem(\"access\")}`;\n  //     axios.post(\"/api/v1/boards\", data)     \n  //         .then((response) => {\n  //               window.location.href = \"/market\";\n  //               alert('등록되었습니다.')\n  //         });\n  // }\n\n  const handleClick = e => {\n    var formdata = new FormData();\n\n    for (let i = 0; i < tempFile.length; i++) {\n      formdata.append(\"files\", tempFile[i]);\n    }\n\n    axios.post(\"/api/v1/boards\", formdata, data, {\n      headers: {\n        \"Content-Type\": \"multipart/form-data\"\n      }\n    }).then(res => {\n      console.log(res);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"\\uAE00\\uC4F0\\uAE30\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleClick,\n      children: [\"\\uC81C \\uBAA9 \", /*#__PURE__*/_jsxDEV(\"input\", {\n        value: title,\n        onChange: e => {\n          setTitle(e.target.value);\n        },\n        type: \"text\",\n        placeholder: \"\\uC81C\\uBAA9\\uC744 \\uC785\\uB825\\uD558\\uC138\\uC694\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 7\n      }, this), \"\\uB0B4 \\uC6A9 \", /*#__PURE__*/_jsxDEV(\"input\", {\n        value: content,\n        onChange: e => {\n          setContent(e.target.value);\n        },\n        type: \"text\",\n        placeholder: \"\\uB0B4\\uC6A9\\uC744 \\uC785\\uB825\\uD558\\uC138\\uC694\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"file\",\n        multiple: true,\n        onChange: e => {\n          setTempFile(e.target.files);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \"submit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true);\n}\n\n_s(MarketWrite, \"QzzwrnrQiljujJqyTQSA4w0CDNY=\");\n\n_c = MarketWrite;\nexport default MarketWrite; // import React, { useEffect, useState, useRef } from \"react\";\n// import axios from \"axios\";\n// function MarketWrite() {\n//     const [title, setTitle] = useState(\"\");\n//     const [content, setContent] = useState(\"\");\n//     // const [boardtype, setBoardtype] = useState(\"\");\n//     const [fileImage, setFileImage] = useState(\"\");\n//     const saveFileImage = (e) => {\n//         setFileImage(URL.createObjectURL(e.target.files[0]));\n//       };\n// //   const onSubmit = async (e) => {\n// //     e.preventDefault();\n// //     e.persist();\n//     // let files = e.target.profile_files.files;\n//     // let formData = new FormData();\n//     // for (let i = 0; i < files.length; i++) {\n//     //   formData.append(\"files\", files[i]);\n//     // }\n//     // console.log(formData)\n//     // const img = e.target.files[0];\n//     // const formData = new FormData();\n//     // formData.append('img', img);\n//     // console.log(formData) // FormData {}\n//     // for (const keyValue of formData) \n//     // console.log(keyValue);\n//     let dataSet = {\n//         title: title,\n//         content: content,\n//     };\n//     formData.append(\"data\", JSON.stringify(dataSet));\n//     console.log(dataSet);\n//     axios.defaults.headers.common['accessToken'] = `Bearer ${localStorage.getItem(\"access\")}`;\n//     const postSurvey = axios({\n//       method: \"POST\",\n//       url: \"/api/v1/boards\",\n//       mode: \"cors\",\n//       headers: {\n//         \"Content-Type\": \"multipart/form-data\",\n//       },\n//       data: formData,\n//     });\n//     console.log(postSurvey);\n//   return (\n//     <form >\n//         제 목 <input \n//          value={title}\n//          onChange={(e)=> {setTitle(e.target.value)}}\n//          type=\"text\"\n//          placeholder=\"제목을 입력하세요\"\n//      /><br/>\n//      내 용 <input \n//          value={content}\n//          onChange={(e)=> {setContent(e.target.value)}}\n//          type=\"text\"\n//          placeholder=\"내용을 입력하세요\"\n//      /><br/>\n//      {/* 보드타입 <input \n//          value={boardtype}\n//          onChange={(e)=> {setBoardtype(e.target.value)}}\n//          type=\"shop\"\n//          placeholder=\"타입을 입력하세요\"\n//      /><br/> */}\n//       {/* <input \n//         type=\"file\"\n//         name=\"profile_files\"\n//         multiple=\"multiple\"\n//         onSubmit={onSubmit}\n//       /><br/> */}\n//                         <input\n//                     name=\"imgUpload\"\n//                     type=\"file\"\n//                     accept=\"image/*\"\n//                     onChange={saveFileImage}\n//                   />\n//       <button type=\"submit\">제출</button>\n//     </form>\n//   );\n// }\n// export default MarketWrite;\n// import React, {useState} from \"react\";\n// import axios from \"axios\";\n// const MarketWrite = ({getAllMedias}) => {\n//     const [name, setName] = useState(\"\");\n//     const [videos, setVideos] = useState(\"\");\n//     const handleSubmit = (e) => {\n//         e.preventDefault();\n//         let formData = new FormData();\n//         for (let key in videos) {\n//             formData.append(\"videos\", videos[key]);\n//             formData.append(\"name\", name);\n//             axios\n//             .post(\"/api/v1/boards\", formData)\n//             .then((success) => {\n//                 getAllMedias();\n//                 alert(\"성공\")\n//             })\n//             .catch((error) => {\n//                 console.log(error);\n//                 alert(\"실패\")\n//             })\n//         }\n//         return (\n//             <>\n//             <form onSuvmit={handleSubmit}>\n//                 <input type=\"text\" />\n//                 <input type=\"file\" />\n//             </form>\n//             </>\n//         )\n//     }\n// }\n// export default MarketWrite;\n\nvar _c;\n\n$RefreshReg$(_c, \"MarketWrite\");","map":{"version":3,"names":["React","useState","axios","MarketWrite","title","setTitle","content","setContent","tempFile","setTempFile","data","handleClick","e","formdata","FormData","i","length","append","post","headers","then","res","console","log","target","value","files"],"sources":["/Users/bag-yeongmi/react-workspace/todo-react-app/src/Components/pages/board/MarketWrite.js"],"sourcesContent":["import React, {useState} from \"react\";\nimport axios from \"axios\";\n\n\nfunction MarketWrite() {\n\n    const [title, setTitle] = useState(\"\");\n    const [content, setContent] = useState(\"\");\n    const [tempFile, setTempFile] = useState();\n\n    const data = {\n        title: title,\n        content: content,\n    }\n\n    // function Submit(e) {\n    //     e.preventDefault();\n\n    //     axios.defaults.headers.common['accessToken'] = `Bearer ${localStorage.getItem(\"access\")}`;\n    //     axios.post(\"/api/v1/boards\", data)     \n    //         .then((response) => {\n    //               window.location.href = \"/market\";\n    //               alert('등록되었습니다.')\n    //         });\n    // }\n\n    const handleClick = (e) => {\n        var formdata = new FormData();\n        for (let i = 0; i < tempFile.length; i++) {\n            formdata.append(\"files\", tempFile[i]);\n        }\n        \n        axios.post(\"/api/v1/boards\", formdata, data, {\n          headers: {\n            \"Content-Type\": \"multipart/form-data\",\n          },\n        }).then((res) => {\n          console.log(res);\n        });\n        \n    }\n\nreturn (\n    <>\n    <h1>글쓰기</h1>\n    <form onSubmit={handleClick}>\n    제 목 <input \n        value={title}\n        onChange={(e)=> {setTitle(e.target.value)}}\n        type=\"text\"\n        placeholder=\"제목을 입력하세요\"\n    /><br/>\n    내 용 <input \n        value={content}\n        onChange={(e)=> {setContent(e.target.value)}}\n        type=\"text\"\n        placeholder=\"내용을 입력하세요\"\n    /><br/>\n    {/* <form className=\"upload_input\">\n         <input \n        value={imagePath}\n        onChange={onLoadFile}\n        type=\"file\"\n        accept=\"img/*\"\n        \n    />\n    <label htmlFor=\"imgae\">파일 선택하기</label>\n    </form> */}\n    {/* <button id=\"btn-file-upload\">파일 업로드</button>\n    <input\n      type=\"file\"\n      id=\"upload-file\"\n      accept=\"image/*\"\n    />  <br/> */}\n    <input\n      type=\"file\"\n      multiple\n      onChange={(e) => {\n        setTempFile(e.target.files);\n      }}\n    />\n    <button type=\"submit\">submit</button>\n\n    </form>\n    </>\n)\n}\n\nexport default MarketWrite;\n\n// import React, { useEffect, useState, useRef } from \"react\";\n// import axios from \"axios\";\n\n// function MarketWrite() {\n    \n//     const [title, setTitle] = useState(\"\");\n//     const [content, setContent] = useState(\"\");\n//     // const [boardtype, setBoardtype] = useState(\"\");\n//     const [fileImage, setFileImage] = useState(\"\");\n//     const saveFileImage = (e) => {\n//         setFileImage(URL.createObjectURL(e.target.files[0]));\n//       };\n\n// //   const onSubmit = async (e) => {\n// //     e.preventDefault();\n// //     e.persist();\n\n//     // let files = e.target.profile_files.files;\n//     // let formData = new FormData();\n//     // for (let i = 0; i < files.length; i++) {\n//     //   formData.append(\"files\", files[i]);\n//     // }\n//     // console.log(formData)\n\n//     // const img = e.target.files[0];\n//     // const formData = new FormData();\n//     // formData.append('img', img);\n//     // console.log(formData) // FormData {}\n//     // for (const keyValue of formData) \n//     // console.log(keyValue);\n\n//     let dataSet = {\n//         title: title,\n//         content: content,\n        \n//     };\n\n//     formData.append(\"data\", JSON.stringify(dataSet));\n//     console.log(dataSet);\n\n//     axios.defaults.headers.common['accessToken'] = `Bearer ${localStorage.getItem(\"access\")}`;\n//     const postSurvey = axios({\n//       method: \"POST\",\n//       url: \"/api/v1/boards\",\n//       mode: \"cors\",\n//       headers: {\n//         \"Content-Type\": \"multipart/form-data\",\n//       },\n//       data: formData,\n//     });\n    \n//     console.log(postSurvey);\n  \n\n//   return (\n//     <form >\n//         제 목 <input \n//          value={title}\n//          onChange={(e)=> {setTitle(e.target.value)}}\n//          type=\"text\"\n//          placeholder=\"제목을 입력하세요\"\n//      /><br/>\n//      내 용 <input \n//          value={content}\n//          onChange={(e)=> {setContent(e.target.value)}}\n//          type=\"text\"\n//          placeholder=\"내용을 입력하세요\"\n//      /><br/>\n//      {/* 보드타입 <input \n//          value={boardtype}\n//          onChange={(e)=> {setBoardtype(e.target.value)}}\n//          type=\"shop\"\n//          placeholder=\"타입을 입력하세요\"\n//      /><br/> */}\n//       {/* <input \n//         type=\"file\"\n//         name=\"profile_files\"\n//         multiple=\"multiple\"\n//         onSubmit={onSubmit}\n//       /><br/> */}\n//                         <input\n//                     name=\"imgUpload\"\n//                     type=\"file\"\n//                     accept=\"image/*\"\n//                     onChange={saveFileImage}\n//                   />\n\n//       <button type=\"submit\">제출</button>\n//     </form>\n//   );\n// }\n\n// export default MarketWrite;\n\n// import React, {useState} from \"react\";\n// import axios from \"axios\";\n\n// const MarketWrite = ({getAllMedias}) => {\n//     const [name, setName] = useState(\"\");\n//     const [videos, setVideos] = useState(\"\");\n\n//     const handleSubmit = (e) => {\n//         e.preventDefault();\n\n//         let formData = new FormData();\n//         for (let key in videos) {\n//             formData.append(\"videos\", videos[key]);\n\n//             formData.append(\"name\", name);\n\n//             axios\n//             .post(\"/api/v1/boards\", formData)\n//             .then((success) => {\n//                 getAllMedias();\n//                 alert(\"성공\")\n//             })\n//             .catch((error) => {\n//                 console.log(error);\n//                 alert(\"실패\")\n//             })\n//         }\n\n//         return (\n//             <>\n//             <form onSuvmit={handleSubmit}>\n//                 <input type=\"text\" />\n//                 <input type=\"file\" />\n//             </form>\n//             </>\n//         )\n//     }\n// }\n\n// export default MarketWrite;"],"mappings":";;;AAAA,OAAOA,KAAP,IAAeC,QAAf,QAA8B,OAA9B;AACA,OAAOC,KAAP,MAAkB,OAAlB;;;;AAGA,SAASC,WAAT,GAAuB;EAAA;;EAEnB,MAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBJ,QAAQ,CAAC,EAAD,CAAlC;EACA,MAAM,CAACK,OAAD,EAAUC,UAAV,IAAwBN,QAAQ,CAAC,EAAD,CAAtC;EACA,MAAM,CAACO,QAAD,EAAWC,WAAX,IAA0BR,QAAQ,EAAxC;EAEA,MAAMS,IAAI,GAAG;IACTN,KAAK,EAAEA,KADE;IAETE,OAAO,EAAEA;EAFA,CAAb,CANmB,CAWnB;EACA;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;;EAEA,MAAMK,WAAW,GAAIC,CAAD,IAAO;IACvB,IAAIC,QAAQ,GAAG,IAAIC,QAAJ,EAAf;;IACA,KAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGP,QAAQ,CAACQ,MAA7B,EAAqCD,CAAC,EAAtC,EAA0C;MACtCF,QAAQ,CAACI,MAAT,CAAgB,OAAhB,EAAyBT,QAAQ,CAACO,CAAD,CAAjC;IACH;;IAEDb,KAAK,CAACgB,IAAN,CAAW,gBAAX,EAA6BL,QAA7B,EAAuCH,IAAvC,EAA6C;MAC3CS,OAAO,EAAE;QACP,gBAAgB;MADT;IADkC,CAA7C,EAIGC,IAJH,CAISC,GAAD,IAAS;MACfC,OAAO,CAACC,GAAR,CAAYF,GAAZ;IACD,CAND;EAQH,CAdD;;EAgBJ,oBACI;IAAA,wBACA;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QADA,eAEA;MAAM,QAAQ,EAAEV,WAAhB;MAAA,0CACI;QACA,KAAK,EAAEP,KADP;QAEA,QAAQ,EAAGQ,CAAD,IAAM;UAACP,QAAQ,CAACO,CAAC,CAACY,MAAF,CAASC,KAAV,CAAR;QAAyB,CAF1C;QAGA,IAAI,EAAC,MAHL;QAIA,WAAW,EAAC;MAJZ;QAAA;QAAA;QAAA;MAAA,QADJ,eAME;QAAA;QAAA;QAAA;MAAA,QANF,iCAOI;QACA,KAAK,EAAEnB,OADP;QAEA,QAAQ,EAAGM,CAAD,IAAM;UAACL,UAAU,CAACK,CAAC,CAACY,MAAF,CAASC,KAAV,CAAV;QAA2B,CAF5C;QAGA,IAAI,EAAC,MAHL;QAIA,WAAW,EAAC;MAJZ;QAAA;QAAA;QAAA;MAAA,QAPJ,eAYE;QAAA;QAAA;QAAA;MAAA,QAZF,eA6BA;QACE,IAAI,EAAC,MADP;QAEE,QAAQ,MAFV;QAGE,QAAQ,EAAGb,CAAD,IAAO;UACfH,WAAW,CAACG,CAAC,CAACY,MAAF,CAASE,KAAV,CAAX;QACD;MALH;QAAA;QAAA;QAAA;MAAA,QA7BA,eAoCA;QAAQ,IAAI,EAAC,QAAb;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QApCA;IAAA;MAAA;MAAA;MAAA;IAAA,QAFA;EAAA,gBADJ;AA4CC;;GAlFQvB,W;;KAAAA,W;AAoFT,eAAeA,WAAf,C,CAEA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AAEA;AACA;AAEA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA"},"metadata":{},"sourceType":"module"}