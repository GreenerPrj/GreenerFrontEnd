{"ast":null,"code":"var _jsxFileName = \"/Users/bag-yeongmi/react-workspace/todo-react-app/src/Components/pages/board/MarketWrite.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport axios from \"axios\";\nimport { useNavigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction MarketWrite() {\n  _s();\n\n  const [title, SetTitle] = useState(\"\");\n  const [content, SetContent] = useState(\"\");\n  const [imagePath, SetImagePath] = useState(\"\");\n  const navigate = useNavigate();\n  const data = {\n    title: title,\n    content: content,\n    imagePath: imagePath\n  };\n\n  function Submit(e) {\n    e.preventDefault();\n    axios.defaults.headers.common['accessToken'] = `Bearer ${localStorage.getItem(\"access\")}`;\n    axios.post(\"/api/v1/boards\", data).then(response => {\n      console.log(response);\n\n      if (response.headers.get(\"access\")) {\n        // 로컬 스토리지에 토큰 저장\n        axios.defaults.headers.common[\"accessToken\"] = `Bearer ${response.headers.get(\"access\")}`;\n        localStorage.setItem(\"access\", response.headers.get(\"access\")); // token이 존재하는 경우 Todo 화면으로 리디렉트\n        //   window.location.href = \"/\";\n        //   alert('로그인 되었습니다.')\n      }\n    }); //     () => {\n    //     // 계정 생성 성공 시 login페이지로 리디렉트\n    //     window.location.href = \"/market\";\n    //     alert('등록되었습니다.')\n    //   }) \n  }\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"\\uAE00\\uC4F0\\uAE30\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      children: [\"\\uC81C \\uBAA9 \", /*#__PURE__*/_jsxDEV(\"input\", {\n        value: title,\n        onChange: e => {\n          SetTitle(e.target.value);\n        },\n        type: \"text\",\n        placeholder: \"\\uC81C\\uBAA9\\uC744 \\uC785\\uB825\\uD558\\uC138\\uC694\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 7\n      }, this), \"\\uB0B4 \\uC6A9 \", /*#__PURE__*/_jsxDEV(\"input\", {\n        value: content,\n        onChange: e => {\n          SetContent(e.target.value);\n        },\n        type: \"text\",\n        placeholder: \"\\uB0B4\\uC6A9\\uC744 \\uC785\\uB825\\uD558\\uC138\\uC694\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 7\n      }, this), \"\\uC774\\uBBF8\\uC9C0 \", /*#__PURE__*/_jsxDEV(\"input\", {\n        value: imagePath,\n        onChange: e => {\n          SetImagePath(e.target.value);\n        },\n        type: \"text\",\n        placeholder: \"\\uC774\\uBBF8\\uC9C0\\uB97C \\uB4F1\\uB85D\\uD558\\uC138\\uC694\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: Submit,\n        children: \"\\uAE00\\uC4F0\\uAE30\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true);\n}\n\n_s(MarketWrite, \"xE38y87gaZxEkbVuQGqkB+LTLo8=\", false, function () {\n  return [useNavigate];\n});\n\n_c = MarketWrite;\nexport default MarketWrite;\n\nvar _c;\n\n$RefreshReg$(_c, \"MarketWrite\");","map":{"version":3,"names":["React","useState","axios","useNavigate","MarketWrite","title","SetTitle","content","SetContent","imagePath","SetImagePath","navigate","data","Submit","e","preventDefault","defaults","headers","common","localStorage","getItem","post","then","response","console","log","get","setItem","target","value"],"sources":["/Users/bag-yeongmi/react-workspace/todo-react-app/src/Components/pages/board/MarketWrite.js"],"sourcesContent":["import React, {useState} from \"react\";\nimport axios from \"axios\";\nimport { useNavigate } from \"react-router-dom\";\n\n\nfunction MarketWrite() {\n\n    const [title, SetTitle] = useState(\"\");\n    const [content, SetContent] = useState(\"\");\n    const [imagePath, SetImagePath] = useState(\"\");\n\n    const navigate = useNavigate();\n\n    const data = {\n        title: title,\n        content: content,\n        imagePath: imagePath\n    }\n\n    function Submit(e) {\n        e.preventDefault();\n\n        axios.defaults.headers.common['accessToken'] = `Bearer ${localStorage.getItem(\"access\")}`;\n        axios.post(\"/api/v1/boards\", data)\n         \n            \n            .then((response) => {\n                console.log(response)\n\n                if (response.headers.get(\"access\")) {\n            \n                  // 로컬 스토리지에 토큰 저장\n                  axios.defaults.headers.common[\n                    \"accessToken\"\n                  ] = `Bearer ${response.headers.get(\"access\")}`;\n                  \n                  localStorage.setItem(\"access\", response.headers.get(\"access\"));\n                  \n                  // token이 존재하는 경우 Todo 화면으로 리디렉트\n                //   window.location.href = \"/\";\n                //   alert('로그인 되었습니다.')\n                }\n              });\n            \n            \n            \n            \n            \n            \n        //     () => {\n        //     // 계정 생성 성공 시 login페이지로 리디렉트\n        //     window.location.href = \"/market\";\n        //     alert('등록되었습니다.')\n        //   }) \n    }\n\nreturn (\n    <>\n    <h1>글쓰기</h1>\n    <form>\n    제 목 <input \n        value={title}\n        onChange={(e)=> {SetTitle(e.target.value)}}\n        type=\"text\"\n        placeholder=\"제목을 입력하세요\"\n    /><br/>\n    내 용 <input \n        value={content}\n        onChange={(e)=> {SetContent(e.target.value)}}\n        type=\"text\"\n        placeholder=\"내용을 입력하세요\"\n    /><br/>\n    이미지 <input \n        value={imagePath}\n        onChange={(e)=> {SetImagePath(e.target.value)}}\n        type=\"text\"\n        placeholder=\"이미지를 등록하세요\"\n    /><br/>\n\n    <button onClick={Submit}>글쓰기</button>\n    </form>\n    {/* <button\n    onClick={\n    ()=>{\n        const token = localStorage.getItem(\"access\");\n        fetch(\"/api/v1/boards\",{\n            method : \"POST\",\n            headers : {\n            accessToken : `Bearer ${token}`\n        },\n        data:{\n            title : title,\n            content : content,\n            imagePath: imagePath,\n            boardsType: boardsType\n        }\n    })\n    .then(response => response.json())\n\n        .then(response => {\n        console.log(response.data);\n        })\n\n\n\n    axios.defaults.headers.common['accessToken'] = `Bearer ${localStorage.getItem(\"access\")}`;\n    axios.post('/api/v1/boards',  {\n        title : title,\n        content : content,\n        imagePath: imagePath,\n        boardsType: boardsType\n}, {\n      headers: {\n        \"Content-Type\": `application/json`,\n      },\n    })\n    .then((response) => {\n      console.log(response);\n    });\n\n    }\n}\n\n    >글쓰기</button> */}\n    </>\n)\n}\n\nexport default MarketWrite;"],"mappings":";;;AAAA,OAAOA,KAAP,IAAeC,QAAf,QAA8B,OAA9B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,WAAT,QAA4B,kBAA5B;;;;AAGA,SAASC,WAAT,GAAuB;EAAA;;EAEnB,MAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBL,QAAQ,CAAC,EAAD,CAAlC;EACA,MAAM,CAACM,OAAD,EAAUC,UAAV,IAAwBP,QAAQ,CAAC,EAAD,CAAtC;EACA,MAAM,CAACQ,SAAD,EAAYC,YAAZ,IAA4BT,QAAQ,CAAC,EAAD,CAA1C;EAEA,MAAMU,QAAQ,GAAGR,WAAW,EAA5B;EAEA,MAAMS,IAAI,GAAG;IACTP,KAAK,EAAEA,KADE;IAETE,OAAO,EAAEA,OAFA;IAGTE,SAAS,EAAEA;EAHF,CAAb;;EAMA,SAASI,MAAT,CAAgBC,CAAhB,EAAmB;IACfA,CAAC,CAACC,cAAF;IAEAb,KAAK,CAACc,QAAN,CAAeC,OAAf,CAAuBC,MAAvB,CAA8B,aAA9B,IAAgD,UAASC,YAAY,CAACC,OAAb,CAAqB,QAArB,CAA+B,EAAxF;IACAlB,KAAK,CAACmB,IAAN,CAAW,gBAAX,EAA6BT,IAA7B,EAGKU,IAHL,CAGWC,QAAD,IAAc;MAChBC,OAAO,CAACC,GAAR,CAAYF,QAAZ;;MAEA,IAAIA,QAAQ,CAACN,OAAT,CAAiBS,GAAjB,CAAqB,QAArB,CAAJ,EAAoC;QAElC;QACAxB,KAAK,CAACc,QAAN,CAAeC,OAAf,CAAuBC,MAAvB,CACE,aADF,IAEK,UAASK,QAAQ,CAACN,OAAT,CAAiBS,GAAjB,CAAqB,QAArB,CAA+B,EAF7C;QAIAP,YAAY,CAACQ,OAAb,CAAqB,QAArB,EAA+BJ,QAAQ,CAACN,OAAT,CAAiBS,GAAjB,CAAqB,QAArB,CAA/B,EAPkC,CASlC;QACF;QACA;MACC;IACF,CAnBP,EAJe,CA8Bf;IACA;IACA;IACA;IACA;EACH;;EAEL,oBACI;IAAA,wBACA;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QADA,eAEA;MAAA,0CACI;QACA,KAAK,EAAErB,KADP;QAEA,QAAQ,EAAGS,CAAD,IAAM;UAACR,QAAQ,CAACQ,CAAC,CAACc,MAAF,CAASC,KAAV,CAAR;QAAyB,CAF1C;QAGA,IAAI,EAAC,MAHL;QAIA,WAAW,EAAC;MAJZ;QAAA;QAAA;QAAA;MAAA,QADJ,eAME;QAAA;QAAA;QAAA;MAAA,QANF,iCAOI;QACA,KAAK,EAAEtB,OADP;QAEA,QAAQ,EAAGO,CAAD,IAAM;UAACN,UAAU,CAACM,CAAC,CAACc,MAAF,CAASC,KAAV,CAAV;QAA2B,CAF5C;QAGA,IAAI,EAAC,MAHL;QAIA,WAAW,EAAC;MAJZ;QAAA;QAAA;QAAA;MAAA,QAPJ,eAYE;QAAA;QAAA;QAAA;MAAA,QAZF,sCAaI;QACA,KAAK,EAAEpB,SADP;QAEA,QAAQ,EAAGK,CAAD,IAAM;UAACJ,YAAY,CAACI,CAAC,CAACc,MAAF,CAASC,KAAV,CAAZ;QAA6B,CAF9C;QAGA,IAAI,EAAC,MAHL;QAIA,WAAW,EAAC;MAJZ;QAAA;QAAA;QAAA;MAAA,QAbJ,eAkBE;QAAA;QAAA;QAAA;MAAA,QAlBF,eAoBA;QAAQ,OAAO,EAAEhB,MAAjB;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QApBA;IAAA;MAAA;MAAA;MAAA;IAAA,QAFA;EAAA,gBADJ;AAsEC;;GAzHQT,W;UAMYD,W;;;KANZC,W;AA2HT,eAAeA,WAAf"},"metadata":{},"sourceType":"module"}