{"ast":null,"code":"var _jsxFileName = \"/Users/bag-yeongmi/react-workspace/todo-react-app/src/Components/pages/board/MarketWrite.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction MarketWrite() {\n  _s();\n\n  const [title, setTitle] = useState(\"\");\n  const [content, setContent] = useState(\"\");\n  const inputFileUpload = document.querySelector(\"#upload-file\");\n\n  const fileupload = e => {\n    const formData = new FormData();\n    formData.append(\"files\", e.target.files[0]);\n    axios({\n      headers: {\n        \"Content-Type\": \"multipart/form-data\"\n      },\n      url: \"/api/v1/boards\",\n      method: \"POST\",\n      data: formData\n    }).then(response => {\n      inputFileUpload.value = \"\";\n    });\n  };\n\n  inputFileUpload.addEventListener(\"change\", fileupload);\n  document.querySelector(\"#btn-file-upload\").addEventListener(\"click\", () => {\n    inputFileUpload.click();\n  });\n  const data = {\n    title: title,\n    content: content\n  };\n\n  function Submit(e) {\n    e.preventDefault();\n    axios.defaults.headers.common['accessToken'] = `Bearer ${localStorage.getItem(\"access\")}`;\n    axios.post(\"/api/v1/boards\", data).then(response => {\n      window.location.href = \"/market\";\n      alert('등록되었습니다.');\n    });\n  }\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"\\uAE00\\uC4F0\\uAE30\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      children: [\"\\uC81C \\uBAA9 \", /*#__PURE__*/_jsxDEV(\"input\", {\n        value: title,\n        onChange: e => {\n          setTitle(e.target.value);\n        },\n        type: \"text\",\n        placeholder: \"\\uC81C\\uBAA9\\uC744 \\uC785\\uB825\\uD558\\uC138\\uC694\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 7\n      }, this), \"\\uB0B4 \\uC6A9 \", /*#__PURE__*/_jsxDEV(\"input\", {\n        value: content,\n        onChange: e => {\n          setContent(e.target.value);\n        },\n        type: \"text\",\n        placeholder: \"\\uB0B4\\uC6A9\\uC744 \\uC785\\uB825\\uD558\\uC138\\uC694\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        id: \"btn-file-upload\",\n        children: \"\\uD30C\\uC77C \\uC5C5\\uB85C\\uB4DC\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"file\",\n        id: \"upload-file\",\n        accept: \"image/*\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 5\n      }, this), \"\\uCD9C\\uCC98: https://7942yongdae.tistory.com/186 [\\uD504\\uB85C\\uADF8\\uB798\\uBA38 YD:\\uD2F0\\uC2A4\\uD1A0\\uB9AC]\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 3\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: Submit,\n        children: \"\\uAE00\\uC4F0\\uAE30\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true);\n}\n\n_s(MarketWrite, \"eiXkh+GEjRZ8Svxty8bnXm2rLL0=\");\n\n_c = MarketWrite;\nexport default MarketWrite; // import React, { useEffect, useState, useRef } from \"react\";\n// import axios from \"axios\";\n// function MarketWrite() {\n//     const [title, setTitle] = useState(\"\");\n//     const [content, setContent] = useState(\"\");\n//     // const [boardtype, setBoardtype] = useState(\"\");\n//     const [fileImage, setFileImage] = useState(\"\");\n//     const saveFileImage = (e) => {\n//         setFileImage(URL.createObjectURL(e.target.files[0]));\n//       };\n// //   const onSubmit = async (e) => {\n// //     e.preventDefault();\n// //     e.persist();\n//     // let files = e.target.profile_files.files;\n//     // let formData = new FormData();\n//     // for (let i = 0; i < files.length; i++) {\n//     //   formData.append(\"files\", files[i]);\n//     // }\n//     // console.log(formData)\n//     // const img = e.target.files[0];\n//     // const formData = new FormData();\n//     // formData.append('img', img);\n//     // console.log(formData) // FormData {}\n//     // for (const keyValue of formData) \n//     // console.log(keyValue);\n//     let dataSet = {\n//         title: title,\n//         content: content,\n//     };\n//     formData.append(\"data\", JSON.stringify(dataSet));\n//     console.log(dataSet);\n//     axios.defaults.headers.common['accessToken'] = `Bearer ${localStorage.getItem(\"access\")}`;\n//     const postSurvey = axios({\n//       method: \"POST\",\n//       url: \"/api/v1/boards\",\n//       mode: \"cors\",\n//       headers: {\n//         \"Content-Type\": \"multipart/form-data\",\n//       },\n//       data: formData,\n//     });\n//     console.log(postSurvey);\n//   return (\n//     <form >\n//         제 목 <input \n//          value={title}\n//          onChange={(e)=> {setTitle(e.target.value)}}\n//          type=\"text\"\n//          placeholder=\"제목을 입력하세요\"\n//      /><br/>\n//      내 용 <input \n//          value={content}\n//          onChange={(e)=> {setContent(e.target.value)}}\n//          type=\"text\"\n//          placeholder=\"내용을 입력하세요\"\n//      /><br/>\n//      {/* 보드타입 <input \n//          value={boardtype}\n//          onChange={(e)=> {setBoardtype(e.target.value)}}\n//          type=\"text\"\n//          placeholder=\"타입을 입력하세요\"\n//      /><br/> */}\n//       {/* <input \n//         type=\"file\"\n//         name=\"profile_files\"\n//         multiple=\"multiple\"\n//         onSubmit={onSubmit}\n//       /><br/> */}\n//                         <input\n//                     name=\"imgUpload\"\n//                     type=\"file\"\n//                     accept=\"image/*\"\n//                     onChange={saveFileImage}\n//                   />\n//       <button type=\"submit\">제출</button>\n//     </form>\n//   );\n// }\n// export default MarketWrite;\n\nvar _c;\n\n$RefreshReg$(_c, \"MarketWrite\");","map":{"version":3,"names":["React","useState","axios","MarketWrite","title","setTitle","content","setContent","inputFileUpload","document","querySelector","fileupload","e","formData","FormData","append","target","files","headers","url","method","data","then","response","value","addEventListener","click","Submit","preventDefault","defaults","common","localStorage","getItem","post","window","location","href","alert"],"sources":["/Users/bag-yeongmi/react-workspace/todo-react-app/src/Components/pages/board/MarketWrite.js"],"sourcesContent":["import React, {useState} from \"react\";\nimport axios from \"axios\";\n\n\nfunction MarketWrite() {\n\n    const [title, setTitle] = useState(\"\");\n    const [content, setContent] = useState(\"\");\n    const inputFileUpload = document.querySelector(\"#upload-file\");\n\n    const fileupload = (e) => {\n        const formData = new FormData();\n        formData.append(\"files\", e.target.files[0]);\n\n        axios({\n            headers: {\n                \"Content-Type\" : \"multipart/form-data\"\n            },\n            url: \"/api/v1/boards\",\n            method: \"POST\",\n            data: formData,\n        }).then((response) => {\n            inputFileUpload.value = \"\";\n        })\n    }\n\n    inputFileUpload.addEventListener(\"change\", fileupload);\n\n    document\n    .querySelector(\"#btn-file-upload\")\n    .addEventListener(\"click\", () => {\n        inputFileUpload.click();\n    })\n\n    const data = {\n        title: title,\n        content: content,\n    }\n\n    function Submit(e) {\n        e.preventDefault();\n\n        axios.defaults.headers.common['accessToken'] = `Bearer ${localStorage.getItem(\"access\")}`;\n        axios.post(\"/api/v1/boards\", data)     \n            .then((response) => {\n                  window.location.href = \"/market\";\n                  alert('등록되었습니다.')\n            });\n    }\n\nreturn (\n    <>\n    <h1>글쓰기</h1>\n    <form>\n    제 목 <input \n        value={title}\n        onChange={(e)=> {setTitle(e.target.value)}}\n        type=\"text\"\n        placeholder=\"제목을 입력하세요\"\n    /><br/>\n    내 용 <input \n        value={content}\n        onChange={(e)=> {setContent(e.target.value)}}\n        type=\"text\"\n        placeholder=\"내용을 입력하세요\"\n    /><br/>\n    {/* <form className=\"upload_input\">\n         <input \n        value={imagePath}\n        onChange={onLoadFile}\n        type=\"file\"\n        accept=\"img/*\"\n        \n    />\n    <label htmlFor=\"imgae\">파일 선택하기</label>\n    </form> */}\n    <button id=\"btn-file-upload\">파일 업로드</button>\n    <input\n      type=\"file\"\n      id=\"upload-file\"\n      accept=\"image/*\"\n    />\n출처: https://7942yongdae.tistory.com/186 [프로그래머 YD:티스토리]\n  <br/>\n\n    <button onClick={Submit}>글쓰기</button>\n    </form>\n    </>\n)\n}\n\nexport default MarketWrite;\n\n// import React, { useEffect, useState, useRef } from \"react\";\n// import axios from \"axios\";\n\n// function MarketWrite() {\n    \n//     const [title, setTitle] = useState(\"\");\n//     const [content, setContent] = useState(\"\");\n//     // const [boardtype, setBoardtype] = useState(\"\");\n//     const [fileImage, setFileImage] = useState(\"\");\n//     const saveFileImage = (e) => {\n//         setFileImage(URL.createObjectURL(e.target.files[0]));\n//       };\n\n// //   const onSubmit = async (e) => {\n// //     e.preventDefault();\n// //     e.persist();\n\n//     // let files = e.target.profile_files.files;\n//     // let formData = new FormData();\n//     // for (let i = 0; i < files.length; i++) {\n//     //   formData.append(\"files\", files[i]);\n//     // }\n//     // console.log(formData)\n\n//     // const img = e.target.files[0];\n//     // const formData = new FormData();\n//     // formData.append('img', img);\n//     // console.log(formData) // FormData {}\n//     // for (const keyValue of formData) \n//     // console.log(keyValue);\n\n//     let dataSet = {\n//         title: title,\n//         content: content,\n        \n//     };\n\n//     formData.append(\"data\", JSON.stringify(dataSet));\n//     console.log(dataSet);\n\n//     axios.defaults.headers.common['accessToken'] = `Bearer ${localStorage.getItem(\"access\")}`;\n//     const postSurvey = axios({\n//       method: \"POST\",\n//       url: \"/api/v1/boards\",\n//       mode: \"cors\",\n//       headers: {\n//         \"Content-Type\": \"multipart/form-data\",\n//       },\n//       data: formData,\n//     });\n    \n//     console.log(postSurvey);\n  \n\n//   return (\n//     <form >\n//         제 목 <input \n//          value={title}\n//          onChange={(e)=> {setTitle(e.target.value)}}\n//          type=\"text\"\n//          placeholder=\"제목을 입력하세요\"\n//      /><br/>\n//      내 용 <input \n//          value={content}\n//          onChange={(e)=> {setContent(e.target.value)}}\n//          type=\"text\"\n//          placeholder=\"내용을 입력하세요\"\n//      /><br/>\n//      {/* 보드타입 <input \n//          value={boardtype}\n//          onChange={(e)=> {setBoardtype(e.target.value)}}\n//          type=\"text\"\n//          placeholder=\"타입을 입력하세요\"\n//      /><br/> */}\n//       {/* <input \n//         type=\"file\"\n//         name=\"profile_files\"\n//         multiple=\"multiple\"\n//         onSubmit={onSubmit}\n//       /><br/> */}\n//                         <input\n//                     name=\"imgUpload\"\n//                     type=\"file\"\n//                     accept=\"image/*\"\n//                     onChange={saveFileImage}\n//                   />\n\n//       <button type=\"submit\">제출</button>\n//     </form>\n//   );\n// }\n\n// export default MarketWrite;"],"mappings":"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"},"metadata":{},"sourceType":"module"}