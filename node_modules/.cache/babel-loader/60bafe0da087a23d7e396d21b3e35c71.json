{"ast":null,"code":"// // import React, {useState} from \"react\";\n// // import axios from \"axios\";\n// // function MarketWrite() {\n// //     const onChangeImg = async (e) => {\n// //         e.preventDefault();\n// //         if(e.target.files){\n// //           const uploadFile = e.target.files[0]\n// //           const formData = new FormData()\n// //           formData.append('files',uploadFile)\n// //           formData.append(\n// //             \"key\",\n// //             new Blob([JSON.stringify(data.info)], { type: \"application/json\" })\n// //           );\n// //           axios.defaults.headers.common['accessToken'] =`Bearer ${localStorage.getItem(\"access\")}`\n// //           await axios({\n// //             method: 'post',\n// //             url: '/api/v1/boards',\n// //             data: formData,\n// //             headers: {\n// //               'Content-Type': 'multipart/form-data',\n// //             },\n// //           });\n// //         }\n// //       }\n// //     const [title, setTitle] = useState(\"\");\n// //     const [content, setContent] = useState(\"\");\n// //     // const [imagePath, setImagePath] = useState(\"\");\n// //     const data = {\n// //         title: title,\n// //         content: content,\n// //         // imagePath: imagePath\n// //     }\n// //     function Submit(e) {\n// //         e.preventDefault();\n// //         axios.defaults.headers.common['accessToken'] = `Bearer ${localStorage.getItem(\"access\")}`;\n// //         axios.post(\"/api/v1/boards\", data)     \n// //             .then((response) => {\n// //                   window.location.href = \"/market\";\n// //                   alert('등록되었습니다.')\n// //             });\n// //     }\n// // return (\n// //     <>\n// //     <h1>글쓰기</h1>\n// //     <form>\n// //     제 목 <input \n// //         value={title}\n// //         onChange={(e)=> {setTitle(e.target.value)}}\n// //         type=\"text\"\n// //         placeholder=\"제목을 입력하세요\"\n// //     /><br/>\n// //     내 용 <input \n// //         value={content}\n// //         onChange={(e)=> {setContent(e.target.value)}}\n// //         type=\"text\"\n// //         placeholder=\"내용을 입력하세요\"\n// //     /><br/>\n// //     {/* <form className=\"upload_input\">\n// //          <input \n// //         value={imagePath}\n// //         onChange={onLoadFile}\n// //         type=\"file\"\n// //         accept=\"img/*\"\n// //     />\n// //     <label htmlFor=\"imgae\">파일 선택하기</label>\n// //     </form> */}\n// //     <form>\n// //         <label htmlFor=\"profile-upload\" />\n// //         <input type=\"file\" id=\"profile-upload\" accept=\"image/*\" onChange={onChangeImg}/>\n// //     </form>\n// //   <br/>\n// //     <button onClick={Submit}>글쓰기</button>\n// //     </form>\n// //     </>\n// // )\n// // }\n// // export default MarketWrite;\n// import React, { useEffect, useState, useRef } from \"react\";\n// import axios from \"axios\";\n// function MarketWrite() {\n//     const [title, setTitle] = useState(\"\");\n//     const [content, setContent] = useState(\"\");\n//     // const [boardtype, setBoardtype] = useState(\"\");\n//     const [fileImage, setFileImage] = useState(\"\");\n//     const saveFileImage = (e) => {\n//         setFileImage(URL.createObjectURL(e.target.files[0]));\n//       };\n// //   const onSubmit = async (e) => {\n// //     e.preventDefault();\n// //     e.persist();\n//     // let files = e.target.profile_files.files;\n//     // let formData = new FormData();\n//     // for (let i = 0; i < files.length; i++) {\n//     //   formData.append(\"files\", files[i]);\n//     // }\n//     // console.log(formData)\n//     // const img = e.target.files[0];\n//     // const formData = new FormData();\n//     // formData.append('img', img);\n//     // console.log(formData) // FormData {}\n//     // for (const keyValue of formData) \n//     // console.log(keyValue);\n//     let dataSet = {\n//         title: title,\n//         content: content,\n//     };\n//     formData.append(\"data\", JSON.stringify(dataSet));\n//     console.log(dataSet);\n//     axios.defaults.headers.common['accessToken'] = `Bearer ${localStorage.getItem(\"access\")}`;\n//     const postSurvey = axios({\n//       method: \"POST\",\n//       url: \"/api/v1/boards\",\n//       mode: \"cors\",\n//       headers: {\n//         \"Content-Type\": \"multipart/form-data\",\n//       },\n//       data: formData,\n//     });\n//     console.log(postSurvey);\n//   return (\n//     <form >\n//         제 목 <input \n//          value={title}\n//          onChange={(e)=> {setTitle(e.target.value)}}\n//          type=\"text\"\n//          placeholder=\"제목을 입력하세요\"\n//      /><br/>\n//      내 용 <input \n//          value={content}\n//          onChange={(e)=> {setContent(e.target.value)}}\n//          type=\"text\"\n//          placeholder=\"내용을 입력하세요\"\n//      /><br/>\n//      {/* 보드타입 <input \n//          value={boardtype}\n//          onChange={(e)=> {setBoardtype(e.target.value)}}\n//          type=\"text\"\n//          placeholder=\"타입을 입력하세요\"\n//      /><br/> */}\n//       {/* <input \n//         type=\"file\"\n//         name=\"profile_files\"\n//         multiple=\"multiple\"\n//         onSubmit={onSubmit}\n//       /><br/> */}\n//                         <input\n//                     name=\"imgUpload\"\n//                     type=\"file\"\n//                     accept=\"image/*\"\n//                     onChange={saveFileImage}\n//                   />\n//       <button type=\"submit\">제출</button>\n//     </form>\n//   );\n// }\n// export default MarketWrite;","map":{"version":3,"names":[],"sources":["/Users/bag-yeongmi/react-workspace/todo-react-app/src/Components/pages/board/MarketWrite.js"],"sourcesContent":["// // import React, {useState} from \"react\";\n// // import axios from \"axios\";\n\n\n// // function MarketWrite() {\n\n// //     const onChangeImg = async (e) => {\n// //         e.preventDefault();\n        \n// //         if(e.target.files){\n// //           const uploadFile = e.target.files[0]\n// //           const formData = new FormData()\n// //           formData.append('files',uploadFile)\n// //           formData.append(\n// //             \"key\",\n// //             new Blob([JSON.stringify(data.info)], { type: \"application/json\" })\n// //           );\n          \n// //           axios.defaults.headers.common['accessToken'] =`Bearer ${localStorage.getItem(\"access\")}`\n// //           await axios({\n// //             method: 'post',\n// //             url: '/api/v1/boards',\n// //             data: formData,\n// //             headers: {\n// //               'Content-Type': 'multipart/form-data',\n// //             },\n// //           });\n// //         }\n// //       }\n\n// //     const [title, setTitle] = useState(\"\");\n// //     const [content, setContent] = useState(\"\");\n// //     // const [imagePath, setImagePath] = useState(\"\");\n\n// //     const data = {\n// //         title: title,\n// //         content: content,\n// //         // imagePath: imagePath\n// //     }\n\n// //     function Submit(e) {\n// //         e.preventDefault();\n\n// //         axios.defaults.headers.common['accessToken'] = `Bearer ${localStorage.getItem(\"access\")}`;\n// //         axios.post(\"/api/v1/boards\", data)     \n// //             .then((response) => {\n// //                   window.location.href = \"/market\";\n// //                   alert('등록되었습니다.')\n// //             });\n// //     }\n\n// // return (\n// //     <>\n// //     <h1>글쓰기</h1>\n// //     <form>\n// //     제 목 <input \n// //         value={title}\n// //         onChange={(e)=> {setTitle(e.target.value)}}\n// //         type=\"text\"\n// //         placeholder=\"제목을 입력하세요\"\n// //     /><br/>\n// //     내 용 <input \n// //         value={content}\n// //         onChange={(e)=> {setContent(e.target.value)}}\n// //         type=\"text\"\n// //         placeholder=\"내용을 입력하세요\"\n// //     /><br/>\n// //     {/* <form className=\"upload_input\">\n// //          <input \n// //         value={imagePath}\n// //         onChange={onLoadFile}\n// //         type=\"file\"\n// //         accept=\"img/*\"\n        \n// //     />\n// //     <label htmlFor=\"imgae\">파일 선택하기</label>\n// //     </form> */}\n// //     <form>\n// //         <label htmlFor=\"profile-upload\" />\n// //         <input type=\"file\" id=\"profile-upload\" accept=\"image/*\" onChange={onChangeImg}/>\n// //     </form>\n// //   <br/>\n\n// //     <button onClick={Submit}>글쓰기</button>\n// //     </form>\n// //     </>\n// // )\n// // }\n\n// // export default MarketWrite;\n\n// import React, { useEffect, useState, useRef } from \"react\";\n// import axios from \"axios\";\n\n// function MarketWrite() {\n    \n//     const [title, setTitle] = useState(\"\");\n//     const [content, setContent] = useState(\"\");\n//     // const [boardtype, setBoardtype] = useState(\"\");\n//     const [fileImage, setFileImage] = useState(\"\");\n//     const saveFileImage = (e) => {\n//         setFileImage(URL.createObjectURL(e.target.files[0]));\n//       };\n\n// //   const onSubmit = async (e) => {\n// //     e.preventDefault();\n// //     e.persist();\n\n//     // let files = e.target.profile_files.files;\n//     // let formData = new FormData();\n//     // for (let i = 0; i < files.length; i++) {\n//     //   formData.append(\"files\", files[i]);\n//     // }\n//     // console.log(formData)\n\n//     // const img = e.target.files[0];\n//     // const formData = new FormData();\n//     // formData.append('img', img);\n//     // console.log(formData) // FormData {}\n//     // for (const keyValue of formData) \n//     // console.log(keyValue);\n\n//     let dataSet = {\n//         title: title,\n//         content: content,\n        \n//     };\n\n//     formData.append(\"data\", JSON.stringify(dataSet));\n//     console.log(dataSet);\n\n//     axios.defaults.headers.common['accessToken'] = `Bearer ${localStorage.getItem(\"access\")}`;\n//     const postSurvey = axios({\n//       method: \"POST\",\n//       url: \"/api/v1/boards\",\n//       mode: \"cors\",\n//       headers: {\n//         \"Content-Type\": \"multipart/form-data\",\n//       },\n//       data: formData,\n//     });\n    \n//     console.log(postSurvey);\n  \n\n//   return (\n//     <form >\n//         제 목 <input \n//          value={title}\n//          onChange={(e)=> {setTitle(e.target.value)}}\n//          type=\"text\"\n//          placeholder=\"제목을 입력하세요\"\n//      /><br/>\n//      내 용 <input \n//          value={content}\n//          onChange={(e)=> {setContent(e.target.value)}}\n//          type=\"text\"\n//          placeholder=\"내용을 입력하세요\"\n//      /><br/>\n//      {/* 보드타입 <input \n//          value={boardtype}\n//          onChange={(e)=> {setBoardtype(e.target.value)}}\n//          type=\"text\"\n//          placeholder=\"타입을 입력하세요\"\n//      /><br/> */}\n//       {/* <input \n//         type=\"file\"\n//         name=\"profile_files\"\n//         multiple=\"multiple\"\n//         onSubmit={onSubmit}\n//       /><br/> */}\n//                         <input\n//                     name=\"imgUpload\"\n//                     type=\"file\"\n//                     accept=\"image/*\"\n//                     onChange={saveFileImage}\n//                   />\n\n//       <button type=\"submit\">제출</button>\n//     </form>\n//   );\n// }\n\n// export default MarketWrite;"],"mappings":"AAAA;AACA;AAGA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA"},"metadata":{},"sourceType":"module"}