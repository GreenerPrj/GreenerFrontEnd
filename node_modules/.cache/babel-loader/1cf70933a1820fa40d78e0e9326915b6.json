{"ast":null,"code":"var _jsxFileName = \"/Users/bag-yeongmi/GreenerFrontEnd/src/Components/pages/Message.js\";\nimport React from \"react\";\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Message extends React.Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      chat: [],\n      msg: ''\n    };\n\n    this.handleChange = e => {\n      this.setState({\n        msg: e.target.value\n      });\n    };\n\n    this.handleSend = e => {\n      if (this.state.msg != '') {\n        axios.post('http://localhost:8000/user', {\n          user_input: this.state.msg\n        }).then(res => {\n          let ch = this.state.chat;\n          ch.push({\n            from: 'our',\n            msag: this.state.msg\n          });\n          ch.push({\n            from: 'cb',\n            msag: res.data\n          });\n          this.setState({\n            chat: ch,\n            msg: ''\n          });\n          console.log(this.state);\n        }).catch(err => {\n          console.log(err);\n        });\n        let interval = window.setInterval(function () {\n          var elem = document.getElementById('chatt');\n          elem.scrollTop = elem.scrollHeight;\n          window.clearInterval(interval);\n        }, 1000);\n        this.forceUpdate();\n      }\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"chatt\",\n        style: {\n          overflow: 'scroll',\n          overflowX: 'hidden',\n          height: '85vh',\n          backgroundImage: \"url(\" + \"img/chatbot.jpeg\" + \")\",\n          backgroundRepeat: 'no-repeat',\n          backgroundPosition: 'center',\n          backgroundsize: 'cover'\n        },\n        children: this.state.chat.map(msg => {\n          if (msg.from == 'cb') {\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                flexWrap: 'wrap',\n                fontSize: '25px',\n                fontFamily: 'cursive',\n                marginBottom: '10px',\n                borderRadius: '100px',\n                marginRight: '500px',\n                padding: '30px',\n                paddingBottom: '20px',\n                width: '30%',\n                backgroundColor: 'black',\n                color: 'white',\n                float: 'left',\n                display: 'block'\n              },\n              children: [\" \", msg.msag, \" \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 54,\n              columnNumber: 40\n            }, this);\n          } else {\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                flexWrap: 'wrap',\n                fontSize: '25px',\n                fontFamily: 'cursive',\n                marginBottom: '10px',\n                borderRadius: '100px',\n                marginLeft: '500px',\n                padding: '30px',\n                paddingBottom: '20px',\n                width: '30%',\n                backgroundColor: 'orange',\n                float: 'right',\n                display: 'block'\n              },\n              children: [msg.msag, \" \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 61,\n              columnNumber: 40\n            }, this);\n          }\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 16\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          height: '1vh'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"msg\",\n          onChange: e => this.handleChange(e),\n          onKeyPress: e => {\n            e.key === \"Enter\" && this.handleSend();\n          },\n          class: \"form-control\",\n          width: \"450px\",\n          style: {\n            width: '90%',\n            float: 'left'\n          },\n          value: this.state.msg\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => this.handleSend(),\n          style: {\n            paddingLeft: '25px',\n            paddingRight: '25px'\n          },\n          class: \"btn btn-primary\",\n          children: \"Send\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default Message;","map":{"version":3,"names":["React","axios","Message","Component","state","chat","msg","handleChange","e","setState","target","value","handleSend","post","user_input","then","res","ch","push","from","msag","data","console","log","catch","err","interval","window","setInterval","elem","document","getElementById","scrollTop","scrollHeight","clearInterval","forceUpdate","render","overflow","overflowX","height","backgroundImage","backgroundRepeat","backgroundPosition","backgroundsize","map","flexWrap","fontSize","fontFamily","marginBottom","borderRadius","marginRight","padding","paddingBottom","width","backgroundColor","color","float","display","marginLeft","key","paddingLeft","paddingRight"],"sources":["/Users/bag-yeongmi/GreenerFrontEnd/src/Components/pages/Message.js"],"sourcesContent":["import React from \"react\";\nimport axios from 'axios';\nclass Message extends React.Component\n{\n    state ={\n        chat:[],\n        msg:''\n    }\n    handleChange = (e)=>{\n        this.setState({msg:e.target.value})\n    }\n\n    handleSend = (e)=>{\n        if(this.state.msg != '')\n        {\n            axios.post('http://localhost:8000/user',{user_input:this.state.msg}\n            \n            )\n            .then(res=>{\n                let ch = this.state.chat;\n                ch.push({from:'our',msag:this.state.msg});\n                ch.push({from:'cb',msag:res.data});\n                this.setState({chat:ch,msg:''});\n                console.log(this.state);\n                \n            })\n            .catch(err=>{\n                console.log(err);\n\n\n            });\n            let interval = window.setInterval(function(){\n                var elem = document.getElementById('chatt');\n                elem.scrollTop = elem.scrollHeight;\n                window.clearInterval(interval);\n            },1000);\n            this.forceUpdate();\n        }\n    }\n\n    render()\n    {\n        return(\n            <div>\n               <div id='chatt' style={{overflow:'scroll',overflowX:'hidden',height:'85vh',\n                                backgroundImage : \"url(\"+\"img/chatbot.jpeg\"+\")\",\n                                backgroundRepeat : 'no-repeat',\n                                backgroundPosition:'center',\n                                backgroundsize : 'cover'}}>\n                    {\n                        this.state.chat.map((msg)=>{\n                            if(msg.from =='cb')\n                            {\n                                return <div style={{flexWrap:'wrap',fontSize:'25px',fontFamily:'cursive',\n                                marginBottom:'10px',borderRadius:'100px',marginRight:'500px',\n                                padding : '30px',paddingBottom:'20px',width:'30%',\n                                backgroundColor:'black',color:'white',float:'left',\n                                display:'block'}}> {msg.msag} </div>\n                            }\n                            else{\n                                return <div style={{flexWrap:'wrap',fontSize:'25px',fontFamily:'cursive',\n                                marginBottom:'10px',borderRadius:'100px',marginLeft:'500px',\n                                padding : '30px',paddingBottom:'20px',width:'30%',backgroundColor:'orange',\n                                float:'right',display:'block'}}>{msg.msag} </div>\n                            }\n                        })\n                    }\n                </div>\n                <div style={{height:'1vh'}}>\n                    <input type='text' name='msg'\n                    onChange={(e)=>this.handleChange(e)}\n                    onKeyPress={(e)=>{e.key === \"Enter\" && this.handleSend()}}\n                    class = \"form-control\"\n                    width='450px'\n                    style={{width:'90%',float:'left'}}\n                    value={this.state.msg} />\n                    <button onClick={()=>this.handleSend()}style={{paddingLeft:'25px',paddingRight:'25px'}}class=\"btn btn-primary\">Send</button>\n                </div>\n            </div>\n        )\n    }\n}\nexport default Message;"],"mappings":"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"},"metadata":{},"sourceType":"module"}