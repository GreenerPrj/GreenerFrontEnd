{"ast":null,"code":"var _jsxFileName = \"/Users/bag-yeongmi/react-workspace/todo-react-app/src/Components/pages/board/MarketWrite.js\",\n    _s = $RefreshSig$();\n\n// import React, {useState} from \"react\";\n// import axios from \"axios\";\n// function MarketWrite() {\n//     const [title, setTitle] = useState(\"\");\n//     const [content, setContent] = useState(\"\");\n//     const [fileImage, setFileImage] = useState(\"\");\n//     // 파일 저장\n//     const saveFileImage = (e) => {\n//         const formData = new FormData();\n//         formData.append(\"files\", e.target.files[0]);\n//         setFileImage(URL.createObjectURL(e.target.files[0]));\n//     };\n//     // 파일 삭제\n//     const deleteFileImage = () => {\n//       URL.revokeObjectURL(fileImage);\n//       setFileImage(\"\");\n//     };\n//     const fileupload = (e) => {\n//         const formData = new FormData();\n//         formData.append(\"files\", e.target.files[0]);\n//     const data = {\n//         title: title,\n//         content: content,\n//     }\n//     function Submit(e) {\n//         e.preventDefault();\n//         axios.defaults.headers.common['accessToken'] = `Bearer ${localStorage.getItem(\"access\")}`;\n//         axios.post(\"/api/v1/boards\", data)     \n//             .then((response) => {\n//                   window.location.href = \"/market\";\n//                   alert('등록되었습니다.')\n//             });\n//     }\n// return (\n//     <>\n//     <h1>글쓰기</h1>\n//     <form>\n//     제 목 <input \n//         value={title}\n//         onChange={(e)=> {setTitle(e.target.value)}}\n//         type=\"text\"\n//         placeholder=\"제목을 입력하세요\"\n//     /><br/>\n//     내 용 <input \n//         value={content}\n//         onChange={(e)=> {setContent(e.target.value)}}\n//         type=\"text\"\n//         placeholder=\"내용을 입력하세요\"\n//     /><br/>\n//     {/* <form className=\"upload_input\">\n//          <input \n//         value={imagePath}\n//         onChange={onLoadFile}\n//         type=\"file\"\n//         accept=\"img/*\"\n//     />\n//     <label htmlFor=\"imgae\">파일 선택하기</label>\n//     </form> */}\n//     <button id=\"btn-file-upload\">파일 업로드</button>\n//     <input\n//       type=\"file\"\n//       id=\"upload-file\"\n//       accept=\"image/*\"\n//     />  <br/>\n//     <button onClick={Submit}>글쓰기</button>\n//     </form>\n//     </>\n// )\n// }\n// export default MarketWrite;\n// import React, { useEffect, useState, useRef } from \"react\";\n// import axios from \"axios\";\n// function MarketWrite() {\n//     const [title, setTitle] = useState(\"\");\n//     const [content, setContent] = useState(\"\");\n//     // const [boardtype, setBoardtype] = useState(\"\");\n//     const [fileImage, setFileImage] = useState(\"\");\n//     const saveFileImage = (e) => {\n//         setFileImage(URL.createObjectURL(e.target.files[0]));\n//       };\n// //   const onSubmit = async (e) => {\n// //     e.preventDefault();\n// //     e.persist();\n//     // let files = e.target.profile_files.files;\n//     // let formData = new FormData();\n//     // for (let i = 0; i < files.length; i++) {\n//     //   formData.append(\"files\", files[i]);\n//     // }\n//     // console.log(formData)\n//     // const img = e.target.files[0];\n//     // const formData = new FormData();\n//     // formData.append('img', img);\n//     // console.log(formData) // FormData {}\n//     // for (const keyValue of formData) \n//     // console.log(keyValue);\n//     let dataSet = {\n//         title: title,\n//         content: content,\n//     };\n//     formData.append(\"data\", JSON.stringify(dataSet));\n//     console.log(dataSet);\n//     axios.defaults.headers.common['accessToken'] = `Bearer ${localStorage.getItem(\"access\")}`;\n//     const postSurvey = axios({\n//       method: \"POST\",\n//       url: \"/api/v1/boards\",\n//       mode: \"cors\",\n//       headers: {\n//         \"Content-Type\": \"multipart/form-data\",\n//       },\n//       data: formData,\n//     });\n//     console.log(postSurvey);\n//   return (\n//     <form >\n//         제 목 <input \n//          value={title}\n//          onChange={(e)=> {setTitle(e.target.value)}}\n//          type=\"text\"\n//          placeholder=\"제목을 입력하세요\"\n//      /><br/>\n//      내 용 <input \n//          value={content}\n//          onChange={(e)=> {setContent(e.target.value)}}\n//          type=\"text\"\n//          placeholder=\"내용을 입력하세요\"\n//      /><br/>\n//      {/* 보드타입 <input \n//          value={boardtype}\n//          onChange={(e)=> {setBoardtype(e.target.value)}}\n//          type=\"text\"\n//          placeholder=\"타입을 입력하세요\"\n//      /><br/> */}\n//       {/* <input \n//         type=\"file\"\n//         name=\"profile_files\"\n//         multiple=\"multiple\"\n//         onSubmit={onSubmit}\n//       /><br/> */}\n//                         <input\n//                     name=\"imgUpload\"\n//                     type=\"file\"\n//                     accept=\"image/*\"\n//                     onChange={saveFileImage}\n//                   />\n//       <button type=\"submit\">제출</button>\n//     </form>\n//   );\n// }\n// export default MarketWrite;\nimport React, { useState } from \"react\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst MarketWrite = _ref => {\n  _s();\n\n  let {\n    getAllMedias\n  } = _ref;\n  const [name, setName] = useState(\"\");\n  const [videos, setVideos] = useState(\"\");\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    let formData = new FormData();\n\n    for (let key in videos) {\n      formData.append(\"videos\", videos[key]);\n      formData.append(\"name\", name);\n      axios.post(\"/api/v1/boards\", formData).then(success => {\n        getAllMedias();\n        alert(\"성공\");\n      }).catch(error => {\n        console.log(error);\n        alert(\"실패\");\n      });\n    }\n\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        onSuvmit: handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"file\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 212,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 13\n      }, this)\n    }, void 0, false);\n  };\n};\n\n_s(MarketWrite, \"9cA0Q3yq00vslsoMkFChYnX7424=\");\n\n_c = MarketWrite;\n\nvar _c;\n\n$RefreshReg$(_c, \"MarketWrite\");","map":{"version":3,"names":["React","useState","axios","MarketWrite","getAllMedias","name","setName","videos","setVideos","handleSubmit","e","preventDefault","formData","FormData","key","append","post","then","success","alert","catch","error","console","log"],"sources":["/Users/bag-yeongmi/react-workspace/todo-react-app/src/Components/pages/board/MarketWrite.js"],"sourcesContent":["// import React, {useState} from \"react\";\n// import axios from \"axios\";\n\n\n// function MarketWrite() {\n\n//     const [title, setTitle] = useState(\"\");\n//     const [content, setContent] = useState(\"\");\n//     const [fileImage, setFileImage] = useState(\"\");\n\n//     // 파일 저장\n//     const saveFileImage = (e) => {\n//         const formData = new FormData();\n//         formData.append(\"files\", e.target.files[0]);\n//         setFileImage(URL.createObjectURL(e.target.files[0]));\n//     };\n  \n//     // 파일 삭제\n//     const deleteFileImage = () => {\n//       URL.revokeObjectURL(fileImage);\n//       setFileImage(\"\");\n//     };\n\n//     const fileupload = (e) => {\n//         const formData = new FormData();\n//         formData.append(\"files\", e.target.files[0]);\n\n\n//     const data = {\n//         title: title,\n//         content: content,\n//     }\n\n//     function Submit(e) {\n//         e.preventDefault();\n\n//         axios.defaults.headers.common['accessToken'] = `Bearer ${localStorage.getItem(\"access\")}`;\n//         axios.post(\"/api/v1/boards\", data)     \n//             .then((response) => {\n//                   window.location.href = \"/market\";\n//                   alert('등록되었습니다.')\n//             });\n//     }\n\n// return (\n//     <>\n//     <h1>글쓰기</h1>\n//     <form>\n//     제 목 <input \n//         value={title}\n//         onChange={(e)=> {setTitle(e.target.value)}}\n//         type=\"text\"\n//         placeholder=\"제목을 입력하세요\"\n//     /><br/>\n//     내 용 <input \n//         value={content}\n//         onChange={(e)=> {setContent(e.target.value)}}\n//         type=\"text\"\n//         placeholder=\"내용을 입력하세요\"\n//     /><br/>\n//     {/* <form className=\"upload_input\">\n//          <input \n//         value={imagePath}\n//         onChange={onLoadFile}\n//         type=\"file\"\n//         accept=\"img/*\"\n        \n//     />\n//     <label htmlFor=\"imgae\">파일 선택하기</label>\n//     </form> */}\n//     <button id=\"btn-file-upload\">파일 업로드</button>\n//     <input\n//       type=\"file\"\n//       id=\"upload-file\"\n//       accept=\"image/*\"\n//     />  <br/>\n\n//     <button onClick={Submit}>글쓰기</button>\n//     </form>\n//     </>\n// )\n// }\n\n// export default MarketWrite;\n\n// import React, { useEffect, useState, useRef } from \"react\";\n// import axios from \"axios\";\n\n// function MarketWrite() {\n    \n//     const [title, setTitle] = useState(\"\");\n//     const [content, setContent] = useState(\"\");\n//     // const [boardtype, setBoardtype] = useState(\"\");\n//     const [fileImage, setFileImage] = useState(\"\");\n//     const saveFileImage = (e) => {\n//         setFileImage(URL.createObjectURL(e.target.files[0]));\n//       };\n\n// //   const onSubmit = async (e) => {\n// //     e.preventDefault();\n// //     e.persist();\n\n//     // let files = e.target.profile_files.files;\n//     // let formData = new FormData();\n//     // for (let i = 0; i < files.length; i++) {\n//     //   formData.append(\"files\", files[i]);\n//     // }\n//     // console.log(formData)\n\n//     // const img = e.target.files[0];\n//     // const formData = new FormData();\n//     // formData.append('img', img);\n//     // console.log(formData) // FormData {}\n//     // for (const keyValue of formData) \n//     // console.log(keyValue);\n\n//     let dataSet = {\n//         title: title,\n//         content: content,\n        \n//     };\n\n//     formData.append(\"data\", JSON.stringify(dataSet));\n//     console.log(dataSet);\n\n//     axios.defaults.headers.common['accessToken'] = `Bearer ${localStorage.getItem(\"access\")}`;\n//     const postSurvey = axios({\n//       method: \"POST\",\n//       url: \"/api/v1/boards\",\n//       mode: \"cors\",\n//       headers: {\n//         \"Content-Type\": \"multipart/form-data\",\n//       },\n//       data: formData,\n//     });\n    \n//     console.log(postSurvey);\n  \n\n//   return (\n//     <form >\n//         제 목 <input \n//          value={title}\n//          onChange={(e)=> {setTitle(e.target.value)}}\n//          type=\"text\"\n//          placeholder=\"제목을 입력하세요\"\n//      /><br/>\n//      내 용 <input \n//          value={content}\n//          onChange={(e)=> {setContent(e.target.value)}}\n//          type=\"text\"\n//          placeholder=\"내용을 입력하세요\"\n//      /><br/>\n//      {/* 보드타입 <input \n//          value={boardtype}\n//          onChange={(e)=> {setBoardtype(e.target.value)}}\n//          type=\"text\"\n//          placeholder=\"타입을 입력하세요\"\n//      /><br/> */}\n//       {/* <input \n//         type=\"file\"\n//         name=\"profile_files\"\n//         multiple=\"multiple\"\n//         onSubmit={onSubmit}\n//       /><br/> */}\n//                         <input\n//                     name=\"imgUpload\"\n//                     type=\"file\"\n//                     accept=\"image/*\"\n//                     onChange={saveFileImage}\n//                   />\n\n//       <button type=\"submit\">제출</button>\n//     </form>\n//   );\n// }\n\n// export default MarketWrite;\n\nimport React, {useState} from \"react\";\nimport axios from \"axios\";\n\nconst MarketWrite = ({getAllMedias}) => {\n    const [name, setName] = useState(\"\");\n    const [videos, setVideos] = useState(\"\");\n\n    const handleSubmit = (e) => {\n        e.preventDefault();\n\n        let formData = new FormData();\n        for (let key in videos) {\n            formData.append(\"videos\", videos[key]);\n\n            formData.append(\"name\", name);\n\n            axios\n            .post(\"/api/v1/boards\", formData)\n            .then((success) => {\n                getAllMedias();\n                alert(\"성공\")\n            })\n            .catch((error) => {\n                console.log(error);\n                alert(\"실패\")\n            })\n        }\n\n        return (\n            <>\n            <form onSuvmit={handleSubmit}>\n                <input type=\"text\" />\n                <input type=\"file\" />\n            </form>\n            </>\n        )\n    }\n}"],"mappings":";;;AAAA;AACA;AAGA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAGA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AAEA,OAAOA,KAAP,IAAeC,QAAf,QAA8B,OAA9B;AACA,OAAOC,KAAP,MAAkB,OAAlB;;;;AAEA,MAAMC,WAAW,GAAG,QAAoB;EAAA;;EAAA,IAAnB;IAACC;EAAD,CAAmB;EACpC,MAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBL,QAAQ,CAAC,EAAD,CAAhC;EACA,MAAM,CAACM,MAAD,EAASC,SAAT,IAAsBP,QAAQ,CAAC,EAAD,CAApC;;EAEA,MAAMQ,YAAY,GAAIC,CAAD,IAAO;IACxBA,CAAC,CAACC,cAAF;IAEA,IAAIC,QAAQ,GAAG,IAAIC,QAAJ,EAAf;;IACA,KAAK,IAAIC,GAAT,IAAgBP,MAAhB,EAAwB;MACpBK,QAAQ,CAACG,MAAT,CAAgB,QAAhB,EAA0BR,MAAM,CAACO,GAAD,CAAhC;MAEAF,QAAQ,CAACG,MAAT,CAAgB,MAAhB,EAAwBV,IAAxB;MAEAH,KAAK,CACJc,IADD,CACM,gBADN,EACwBJ,QADxB,EAECK,IAFD,CAEOC,OAAD,IAAa;QACfd,YAAY;QACZe,KAAK,CAAC,IAAD,CAAL;MACH,CALD,EAMCC,KAND,CAMQC,KAAD,IAAW;QACdC,OAAO,CAACC,GAAR,CAAYF,KAAZ;QACAF,KAAK,CAAC,IAAD,CAAL;MACH,CATD;IAUH;;IAED,oBACI;MAAA,uBACA;QAAM,QAAQ,EAAEV,YAAhB;QAAA,wBACI;UAAO,IAAI,EAAC;QAAZ;UAAA;UAAA;UAAA;QAAA,QADJ,eAEI;UAAO,IAAI,EAAC;QAAZ;UAAA;UAAA;UAAA;QAAA,QAFJ;MAAA;QAAA;QAAA;QAAA;MAAA;IADA,iBADJ;EAQH,CA7BD;AA8BH,CAlCD;;GAAMN,W;;KAAAA,W"},"metadata":{},"sourceType":"module"}