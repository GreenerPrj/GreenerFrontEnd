{"ast":null,"code":"var _jsxFileName = \"/Users/bag-yeongmi/react-workspace/todo-react-app/src/Components/pages/board/MarketWrite.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction MarketWrite() {\n  _s();\n\n  const onChangeImg = async e => {\n    e.preventDefault();\n\n    if (e.target.files) {\n      const uploadFile = e.target.files[0];\n      const formData = new FormData();\n      formData.append('files', uploadFile);\n      formData.append(\"key\", new Blob([JSON.stringify(data.info)], {\n        type: \"application/json\"\n      }));\n      axios.defaults.headers.common['accessToken'] = `Bearer ${localStorage.getItem(\"access\")}`;\n      await axios({\n        method: 'post',\n        url: '/api/v1/boards',\n        data: formData,\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        }\n      });\n    }\n  };\n\n  const [title, setTitle] = useState(\"\");\n  const [content, setContent] = useState(\"\"); // const [imagePath, setImagePath] = useState(\"\");\n\n  const data = {\n    title: title,\n    content: content // imagePath: imagePath\n\n  };\n\n  function Submit(e) {\n    e.preventDefault();\n    axios.defaults.headers.common['accessToken'] = `Bearer ${localStorage.getItem(\"access\")}`;\n    axios.post(\"/api/v1/boards\", data).then(response => {\n      window.location.href = \"/market\";\n      alert('등록되었습니다.');\n    });\n  }\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"\\uAE00\\uC4F0\\uAE30\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      children: [\"\\uC81C \\uBAA9 \", /*#__PURE__*/_jsxDEV(\"input\", {\n        value: title,\n        onChange: e => {\n          setTitle(e.target.value);\n        },\n        type: \"text\",\n        placeholder: \"\\uC81C\\uBAA9\\uC744 \\uC785\\uB825\\uD558\\uC138\\uC694\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 7\n      }, this), \"\\uB0B4 \\uC6A9 \", /*#__PURE__*/_jsxDEV(\"input\", {\n        value: content,\n        onChange: e => {\n          setContent(e.target.value);\n        },\n        type: \"text\",\n        placeholder: \"\\uB0B4\\uC6A9\\uC744 \\uC785\\uB825\\uD558\\uC138\\uC694\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"profile-upload\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"file\",\n          id: \"profile-upload\",\n          accept: \"image/*\",\n          onChange: onChangeImg\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 3\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: Submit,\n        children: \"\\uAE00\\uC4F0\\uAE30\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true);\n}\n\n_s(MarketWrite, \"eiXkh+GEjRZ8Svxty8bnXm2rLL0=\");\n\n_c = MarketWrite;\nexport default MarketWrite;\n\nvar _c;\n\n$RefreshReg$(_c, \"MarketWrite\");","map":{"version":3,"names":["React","useState","axios","MarketWrite","onChangeImg","e","preventDefault","target","files","uploadFile","formData","FormData","append","Blob","JSON","stringify","data","info","type","defaults","headers","common","localStorage","getItem","method","url","title","setTitle","content","setContent","Submit","post","then","response","window","location","href","alert","value"],"sources":["/Users/bag-yeongmi/react-workspace/todo-react-app/src/Components/pages/board/MarketWrite.js"],"sourcesContent":["import React, {useState} from \"react\";\nimport axios from \"axios\";\n\n\nfunction MarketWrite() {\n\n    const onChangeImg = async (e) => {\n        e.preventDefault();\n        \n        if(e.target.files){\n          const uploadFile = e.target.files[0]\n          const formData = new FormData()\n          formData.append('files',uploadFile)\n          formData.append(\n            \"key\",\n            new Blob([JSON.stringify(data.info)], { type: \"application/json\" })\n          );\n          \n          axios.defaults.headers.common['accessToken'] =`Bearer ${localStorage.getItem(\"access\")}`\n          await axios({\n            method: 'post',\n            url: '/api/v1/boards',\n            data: formData,\n            headers: {\n              'Content-Type': 'multipart/form-data',\n            },\n          });\n        }\n      }\n\n    const [title, setTitle] = useState(\"\");\n    const [content, setContent] = useState(\"\");\n    // const [imagePath, setImagePath] = useState(\"\");\n\n    const data = {\n        title: title,\n        content: content,\n        // imagePath: imagePath\n    }\n\n    function Submit(e) {\n        e.preventDefault();\n\n        axios.defaults.headers.common['accessToken'] = `Bearer ${localStorage.getItem(\"access\")}`;\n        axios.post(\"/api/v1/boards\", data)     \n            .then((response) => {\n                  window.location.href = \"/market\";\n                  alert('등록되었습니다.')\n            });\n    }\n\nreturn (\n    <>\n    <h1>글쓰기</h1>\n    <form>\n    제 목 <input \n        value={title}\n        onChange={(e)=> {setTitle(e.target.value)}}\n        type=\"text\"\n        placeholder=\"제목을 입력하세요\"\n    /><br/>\n    내 용 <input \n        value={content}\n        onChange={(e)=> {setContent(e.target.value)}}\n        type=\"text\"\n        placeholder=\"내용을 입력하세요\"\n    /><br/>\n    {/* <form className=\"upload_input\">\n         <input \n        value={imagePath}\n        onChange={onLoadFile}\n        type=\"file\"\n        accept=\"img/*\"\n        \n    />\n    <label htmlFor=\"imgae\">파일 선택하기</label>\n    </form> */}\n    <form>\n        <label htmlFor=\"profile-upload\" />\n        <input type=\"file\" id=\"profile-upload\" accept=\"image/*\" onChange={onChangeImg}/>\n    </form>\n  <br/>\n\n    <button onClick={Submit}>글쓰기</button>\n    </form>\n    </>\n)\n}\n\nexport default MarketWrite;"],"mappings":";;;AAAA,OAAOA,KAAP,IAAeC,QAAf,QAA8B,OAA9B;AACA,OAAOC,KAAP,MAAkB,OAAlB;;;;AAGA,SAASC,WAAT,GAAuB;EAAA;;EAEnB,MAAMC,WAAW,GAAG,MAAOC,CAAP,IAAa;IAC7BA,CAAC,CAACC,cAAF;;IAEA,IAAGD,CAAC,CAACE,MAAF,CAASC,KAAZ,EAAkB;MAChB,MAAMC,UAAU,GAAGJ,CAAC,CAACE,MAAF,CAASC,KAAT,CAAe,CAAf,CAAnB;MACA,MAAME,QAAQ,GAAG,IAAIC,QAAJ,EAAjB;MACAD,QAAQ,CAACE,MAAT,CAAgB,OAAhB,EAAwBH,UAAxB;MACAC,QAAQ,CAACE,MAAT,CACE,KADF,EAEE,IAAIC,IAAJ,CAAS,CAACC,IAAI,CAACC,SAAL,CAAeC,IAAI,CAACC,IAApB,CAAD,CAAT,EAAsC;QAAEC,IAAI,EAAE;MAAR,CAAtC,CAFF;MAKAhB,KAAK,CAACiB,QAAN,CAAeC,OAAf,CAAuBC,MAAvB,CAA8B,aAA9B,IAA+C,UAASC,YAAY,CAACC,OAAb,CAAqB,QAArB,CAA+B,EAAvF;MACA,MAAMrB,KAAK,CAAC;QACVsB,MAAM,EAAE,MADE;QAEVC,GAAG,EAAE,gBAFK;QAGVT,IAAI,EAAEN,QAHI;QAIVU,OAAO,EAAE;UACP,gBAAgB;QADT;MAJC,CAAD,CAAX;IAQD;EACF,CAtBH;;EAwBA,MAAM,CAACM,KAAD,EAAQC,QAAR,IAAoB1B,QAAQ,CAAC,EAAD,CAAlC;EACA,MAAM,CAAC2B,OAAD,EAAUC,UAAV,IAAwB5B,QAAQ,CAAC,EAAD,CAAtC,CA3BmB,CA4BnB;;EAEA,MAAMe,IAAI,GAAG;IACTU,KAAK,EAAEA,KADE;IAETE,OAAO,EAAEA,OAFA,CAGT;;EAHS,CAAb;;EAMA,SAASE,MAAT,CAAgBzB,CAAhB,EAAmB;IACfA,CAAC,CAACC,cAAF;IAEAJ,KAAK,CAACiB,QAAN,CAAeC,OAAf,CAAuBC,MAAvB,CAA8B,aAA9B,IAAgD,UAASC,YAAY,CAACC,OAAb,CAAqB,QAArB,CAA+B,EAAxF;IACArB,KAAK,CAAC6B,IAAN,CAAW,gBAAX,EAA6Bf,IAA7B,EACKgB,IADL,CACWC,QAAD,IAAc;MACdC,MAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAuB,SAAvB;MACAC,KAAK,CAAC,UAAD,CAAL;IACL,CAJL;EAKH;;EAEL,oBACI;IAAA,wBACA;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QADA,eAEA;MAAA,0CACI;QACA,KAAK,EAAEX,KADP;QAEA,QAAQ,EAAGrB,CAAD,IAAM;UAACsB,QAAQ,CAACtB,CAAC,CAACE,MAAF,CAAS+B,KAAV,CAAR;QAAyB,CAF1C;QAGA,IAAI,EAAC,MAHL;QAIA,WAAW,EAAC;MAJZ;QAAA;QAAA;QAAA;MAAA,QADJ,eAME;QAAA;QAAA;QAAA;MAAA,QANF,iCAOI;QACA,KAAK,EAAEV,OADP;QAEA,QAAQ,EAAGvB,CAAD,IAAM;UAACwB,UAAU,CAACxB,CAAC,CAACE,MAAF,CAAS+B,KAAV,CAAV;QAA2B,CAF5C;QAGA,IAAI,EAAC,MAHL;QAIA,WAAW,EAAC;MAJZ;QAAA;QAAA;QAAA;MAAA,QAPJ,eAYE;QAAA;QAAA;QAAA;MAAA,QAZF,eAuBA;QAAA,wBACI;UAAO,OAAO,EAAC;QAAf;UAAA;UAAA;UAAA;QAAA,QADJ,eAEI;UAAO,IAAI,EAAC,MAAZ;UAAmB,EAAE,EAAC,gBAAtB;UAAuC,MAAM,EAAC,SAA9C;UAAwD,QAAQ,EAAElC;QAAlE;UAAA;UAAA;UAAA;QAAA,QAFJ;MAAA;QAAA;QAAA;QAAA;MAAA,QAvBA,eA2BF;QAAA;QAAA;QAAA;MAAA,QA3BE,eA6BA;QAAQ,OAAO,EAAE0B,MAAjB;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QA7BA;IAAA;MAAA;MAAA;MAAA;IAAA,QAFA;EAAA,gBADJ;AAoCC;;GAnFQ3B,W;;KAAAA,W;AAqFT,eAAeA,WAAf"},"metadata":{},"sourceType":"module"}