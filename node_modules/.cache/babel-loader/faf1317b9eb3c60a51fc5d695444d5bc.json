{"ast":null,"code":"var _jsxFileName = \"/Users/bag-yeongmi/GreenerFrontEnd/src/Components/pages/board/MarketChange.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport { useNavigate, useParams } from 'react-router-dom';\nimport axios from 'axios';\nimport { Button } from \"react-bootstrap\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction MarketChange() {\n  _s();\n\n  const [title, setTitle] = useState(\"\");\n  const [content, setContent] = useState(\"\");\n  const [img, setImg] = useState(\"\");\n  const [look, setLook] = useState(true);\n  const {\n    boardsId\n  } = useParams();\n  useEffect(() => {\n    axios.defaults.headers.common['accessToken'] = `Bearer ${localStorage.getItem(\"access\")}`;\n    axios.get(`/api/v1/boards/${boardsId}/detail`).then(response => {\n      setTitle(response.data.title);\n      setContent(response.data.content);\n      setImg(response.data.img);\n    });\n  }, []);\n  const data = {\n    title: title,\n    content: content,\n    img: img\n  };\n\n  function Update(e) {\n    e.preventDefault();\n    axios.defaults.headers.common['accessToken'] = `Bearer ${localStorage.getItem(\"access\")}`;\n    axios.put(`/api/v1/boards/${boardsId}`, data).then(window.location.href = \"/market\", alert('수정되었습니다.'));\n  }\n\n  const FileDelete = () => {\n    setImg(\"\");\n    console.log(data.img);\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: look && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"\\uC218\\uC815\\uD558\\uAE30\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        children: [\"\\uC81C \\uBAA9 \", /*#__PURE__*/_jsxDEV(\"input\", {\n          value: title,\n          onChange: e => {\n            setTitle(e.target.value);\n          },\n          type: \"text\",\n          placeholder: \"\\uC81C\\uBAA9\\uC744 \\uC785\\uB825\\uD558\\uC138\\uC694\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 7\n        }, this), \"\\uB0B4 \\uC6A9 \", /*#__PURE__*/_jsxDEV(\"input\", {\n          value: content,\n          onChange: e => {\n            setContent(e.target.value);\n          },\n          type: \"text\",\n          placeholder: \"\\uB0B4\\uC6A9\\uC744 \\uC785\\uB825\\uD558\\uC138\\uC694\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 7\n        }, this), \"\\uC774\\uBBF8\\uC9C0\", look ? /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: img,\n            alt: \"error\",\n            width: \"20%\",\n            height: \"200px\" // placeholder=\"이미지를 등록하세요\"\n            // onChange={(e)=> {setImg(e.target.value)}}\n\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 5\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: setLook(!look),\n            children: \"\\uC0AD\\uC81C\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 5\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"file\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 5\n          }, this)]\n        }, void 0, true) : null, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          href: `/marketdetail/${boardsId}`,\n          variant: \"outline-secondary\",\n          children: \"\\xA0 \\uCDE8\\uC18C \\xA0\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 3\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: Update,\n          variant: \"outline-success\",\n          children: \"\\xA0 \\uC218\\uC815 \\xA0\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 3\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true)\n  }, void 0, false);\n}\n\n_s(MarketChange, \"HgRaZjcOEadKGzJjO9fcV/c5EOA=\", false, function () {\n  return [useParams];\n});\n\n_c = MarketChange;\nexport default MarketChange;\n\nvar _c;\n\n$RefreshReg$(_c, \"MarketChange\");","map":{"version":3,"names":["React","useState","useEffect","useNavigate","useParams","axios","Button","MarketChange","title","setTitle","content","setContent","img","setImg","look","setLook","boardsId","defaults","headers","common","localStorage","getItem","get","then","response","data","Update","e","preventDefault","put","window","location","href","alert","FileDelete","console","log","target","value"],"sources":["/Users/bag-yeongmi/GreenerFrontEnd/src/Components/pages/board/MarketChange.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useNavigate, useParams } from 'react-router-dom';\nimport axios from 'axios';\nimport { Button } from \"react-bootstrap\";\n\nfunction MarketChange() {\n\n    const [title, setTitle] = useState(\"\");\n    const [content, setContent] = useState(\"\");\n    const [img, setImg] = useState(\"\");\n    const [look,setLook] = useState(true);\n    const {boardsId} = useParams();\n\n    useEffect(() => {\n       \n        axios.defaults.headers.common['accessToken'] = `Bearer ${localStorage.getItem(\"access\")}`;\n        axios.get(`/api/v1/boards/${boardsId}/detail`)\n        \n        .then((response)  => { \n          setTitle(response.data.title);\n          setContent(response.data.content);\n          setImg(response.data.img);\n          \n        })\n        \n      }, [])\n      \n      const data = {\n        title: title,\n        content: content,\n        img: img\n    }\n\n      function Update(e) {\n        e.preventDefault()\n\n        axios.defaults.headers.common['accessToken'] = `Bearer ${localStorage.getItem(\"access\")}`;\n        axios.put(`/api/v1/boards/${boardsId}`, data)\n        .then(\n            window.location.href = \"/market\",\n            alert('수정되었습니다.')\n        )\n      }\n\n      const FileDelete = () => {\n        setImg(\"\")\n        console.log(data.img)\n      }\n\n\nreturn (\n  <>\n  {\n    look &&\n    <>\n    <h1>수정하기</h1>\n    <form>\n    제 목 <input \n        value={title}\n        onChange={(e)=> {setTitle(e.target.value)}}\n        type=\"text\"\n        placeholder=\"제목을 입력하세요\"\n    /><br/>\n    내 용 <input \n        value={content}\n        onChange={(e)=> {setContent(e.target.value)}}\n        type=\"text\"\n        placeholder=\"내용을 입력하세요\"\n    /><br/>\n    이미지\n    \n    {look  ?\n    <>\n    <img \n        src={img}\n        alt=\"error\"\n        width=\"20%\" height=\"200px\"\n        // placeholder=\"이미지를 등록하세요\"\n        // onChange={(e)=> {setImg(e.target.value)}}\n    />\n    <button onClick={setLook(!look)}>삭제</button>\n    <input \n      type=\"file\"\n       \n    /> \n    </>\n    : null}\n    \n     <br/>\n  <Button href={`/marketdetail/${boardsId}`} variant=\"outline-secondary\">&nbsp; 취소 &nbsp;</Button>\n  <Button onClick={Update} variant=\"outline-success\">&nbsp; 수정 &nbsp;</Button>\n\n    </form>\n    </>}\n    </>\n    )\n}\n\nexport default MarketChange;"],"mappings":"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"},"metadata":{},"sourceType":"module"}