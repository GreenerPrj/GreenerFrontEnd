{"ast":null,"code":"var _jsxFileName = \"/Users/bag-yeongmi/react-workspace/todo-react-app/src/Components/pages/board/MarketDetail.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport { useParams } from 'react-router-dom';\nimport axios from 'axios';\nimport { Button } from \"react-bootstrap\";\nimport { Link } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction MarketDetail() {\n  _s();\n\n  const [data, setData] = useState([]);\n  const {\n    boardsId\n  } = useParams();\n  useEffect(() => {\n    axios.defaults.headers.common['accessToken'] = `Bearer ${localStorage.getItem(\"access\")}`;\n    axios.get(`/api/v1/boards/${boardsId}/detail`).then(response => {\n      setData(response.data);\n      console.log(response);\n    });\n  }, []);\n\n  function Delete() {\n    axios.defaults.headers.common['accessToken'] = `Bearer ${localStorage.getItem(\"access\")}`;\n    axios.delete(`/api/v1/boards/${boardsId}`).then(window.location.href = \"/market\", alert('삭제 되었습니다.'));\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"w-full h-full flex justify-center items-center\",\n    children: data && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"dataform\",\n        children: [\"\\uC81C\\uBAA9 \", /*#__PURE__*/_jsxDEV(\"input\", {\n          value: data.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 20\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 47\n        }, this), \"\\uB0B4\\uC6A9 \", /*#__PURE__*/_jsxDEV(\"input\", {\n          value: data.content\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 20\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 49\n        }, this), \"\\uC774\\uBBF8\\uC9C0 \", /*#__PURE__*/_jsxDEV(\"img\", {\n          src: data.boardFilesId,\n          alt: data.fileName,\n          width: \"20%\",\n          height: \"200px\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 98\n        }, this), \"\\uB4F1\\uB85D\\uC790 \", /*#__PURE__*/_jsxDEV(\"input\", {\n          value: data.nickName\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 51\n        }, this), \"\\uB4F1\\uB85D\\uC77C \", /*#__PURE__*/_jsxDEV(\"input\", {\n          value: data.createDate\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 53\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        to: `/marketchange/${boardsId}`,\n        children: \"\\xA0 \\uC218\\uC815 \\xA0\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        onClick: () => Delete(data.boardsId),\n        variant: \"danger\",\n        children: \"\\xA0 \\uC0AD\\uC81C \\xA0\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 9\n  }, this);\n}\n\n_s(MarketDetail, \"gY6o+fWPLh5whwMwEfWTCdZ0b0w=\", false, function () {\n  return [useParams];\n});\n\n_c = MarketDetail;\nexport default MarketDetail; // import React, {useEffect, useState} from \"react\";\n// import axios from \"axios\";\n// import {useNavigate, useParams} from \"react-router-dom\";\n// import {Button, Dialog, DialogContent, IconButton} from \"@mui/material\";\n// import BuildOutlinedIcon from '@mui/icons-material/BuildOutlined';\n// import DeleteForeverOutlinedIcon from '@mui/icons-material/DeleteForeverOutlined';\n// import DisabledByDefaultOutlinedIcon from \"@mui/icons-material/DisabledByDefaultOutlined\";\n// import moment from \"moment\";\n// const MarketDetail = () => {\n//   // URL 파라미터 받기 - board의 id\n//   const {boardId} = useParams();\n//   const [board, setBoard] = useState({});\n//   const [isLoaded, setIsLoaded] = useState(false);\n//   const token = localStorage.getItem(\"access\")\n//   const navigate = useNavigate();\n//   // modal이 보이는 여부 상태\n//   const [show, setShow] = useState(false);\n//   // board 가져오기\n//   useEffect(() => {\n//     const getBoard = async () => {\n//       const {data} =\n//         // axios.defaults.headers.common['accessToken'] = `Bearer ${localStorage.getItem(\"access\")}`\n//       await axios.get(`/api/board/${boardId}/detail`);\n//       return data;\n//     }\n//     getBoard().then(result => setBoard(result)).then(() => setIsLoaded(true));\n//   }, [])\n//   return (\n//     <React.Fragment>\n//       {isLoaded && (\n//         <div className=\"board-wrapper\">\n//           {\n//             /*\n//               해당 글의 작성자가 로그인을 했을 때만 수정, 삭제 버튼이 보이게 하자.\n//               로그인을 한 사용자의 jwt-token에서 user의 ID를 추출한 후,\n//               board(해당 글)의 user의 ID를 비교했을 때 같으면 수정, 삭제 버튼이 보이게 한다.\n//               ID는 DB에 저장되어 있는 유저의 고유 번호이다.\n//              */\n//             jwtUtils.isAuth(token) && jwtUtils.getuserId(token) === board.user.id &&\n//             <div className=\"edit-delete-button\">\n//               <Button\n//                 variant=\"outlined\" color=\"error\" endIcon={<DeleteForeverOutlinedIcon/>}\n//                 className=\"delete-button\"\n//                 onClick={() => {\n//                   setShow(true)\n//                 }}\n//               >\n//                 삭제\n//               </Button>\n//               <Button\n//                 variant=\"outlined\" endIcon={<BuildOutlinedIcon/>}\n//                 onClick={() => {\n//                   navigate(`/edit-board/${boardId}`)\n//                 }}\n//               >\n//                 수정\n//               </Button>\n//             </div>\n//           }\n//           <div className=\"board-header\">\n//             <div className=\"board-header-username\">{board.user.username}</div>\n//             <div className=\"board-header-date\">{moment(board.created).add(9,\"hour\").format('YYYY-MM-DD')}</div>\n//           </div>\n//           <hr/>\n//           <div className=\"board-body\">\n//             <div className=\"board-title-content\">\n//               <div className=\"board-title\">{board.title}</div>\n//               <div className=\"board-content\">{board.content}</div>\n//             </div>\n//           </div>\n//           <hr/>\n//           <div className=\"board-footer\"></div>\n//         </div>\n//       )}\n//       {/*modal*/}\n//       <Dialog open={show}>\n//         <DialogContent style={{position: \"relative\"}}>\n//           <IconButton\n//             style={{position: \"absolute\", top: \"0\", right: \"0\"}}\n//             onClick={() => setShow(false)}\n//           >\n//             <DisabledByDefaultOutlinedIcon/>\n//           </IconButton>\n//           <div className=\"modal\">\n//             <div className=\"modal-title\"> 정말 삭제하시겠습니까 ?</div>\n//             <div className=\"modal-button\">\n//               <Button\n//                 variant=\"outlined\"\n//                 color=\"error\"\n//                 onClick={async () => {\n//                   setShow(false);\n//                   // 모달의 예 버튼 클릭시 게시물 삭제\n//                   await axios.delete(`/api/v1/boards/${boardsId}`);\n//                   alert(\"게시물이 삭제되었습니다😎\");\n//                   window.location.href = \"/market\";\n//                 }}\n//               >\n//                 예\n//               </Button>\n//               <Button\n//                 variant=\"outlined\"\n//                 color=\"primary\"\n//                 onClick={() => {\n//                   setShow(false)\n//                 }}\n//               >\n//                 아니오\n//               </Button>\n//             </div>\n//           </div>\n//         </DialogContent>\n//       </Dialog>\n//     </React.Fragment>\n//   );\n// }\n// export default MarketDetail;\n\nvar _c;\n\n$RefreshReg$(_c, \"MarketDetail\");","map":{"version":3,"names":["React","useState","useEffect","useParams","axios","Button","Link","MarketDetail","data","setData","boardsId","defaults","headers","common","localStorage","getItem","get","then","response","console","log","Delete","delete","window","location","href","alert","title","content","boardFilesId","fileName","nickName","createDate"],"sources":["/Users/bag-yeongmi/react-workspace/todo-react-app/src/Components/pages/board/MarketDetail.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useParams } from 'react-router-dom';\nimport axios from 'axios';\nimport { Button } from \"react-bootstrap\";\nimport { Link } from \"react-router-dom\";\n\n\nfunction MarketDetail() {\n\n    const [data, setData] = useState([]);\n    const {boardsId} = useParams();\n\n    useEffect(() => {\n       \n        axios.defaults.headers.common['accessToken'] = `Bearer ${localStorage.getItem(\"access\")}`;\n        axios.get(`/api/v1/boards/${boardsId}/detail`)\n        \n        .then((response)  => { \n          setData(response.data);\n          console.log(response)\n        })\n        \n      }, [])\n    \n    \n\n    function Delete() {\n        axios.defaults.headers.common['accessToken'] = `Bearer ${localStorage.getItem(\"access\")}`;\n        axios.delete(`/api/v1/boards/${boardsId}`)\n        .then(\n          window.location.href = \"/market\",\n          alert('삭제 되었습니다.')\n        )\n      }\n\n    \n\n    return (\n        <div className=\"w-full h-full flex justify-center items-center\">\n        {data && (\n\n            <>\n            <div className=\"dataform\">\n\n\n                제목 <input value={data.title}/><br/>\n                내용 <input value={data.content}/><br/>\n                이미지 <img src={data.boardFilesId} alt={data.fileName} width=\"20%\" height=\"200px\"/><br/>\n                등록자 <input value={data.nickName}/><br/>\n                등록일 <input value={data.createDate}/><br/>\n                \n\n            </div>\n            \n            <Link to={`/marketchange/${boardsId}`}>&nbsp; 수정 &nbsp;</Link>\n            <Button onClick={() => Delete(data.boardsId)} variant=\"danger\">&nbsp; 삭제 &nbsp;</Button>\n            </>         \n            \n\n            )\n        }\n        </div>\n        \n    )\n}\n\nexport default MarketDetail;\n\n\n// import React, {useEffect, useState} from \"react\";\n// import axios from \"axios\";\n// import {useNavigate, useParams} from \"react-router-dom\";\n// import {Button, Dialog, DialogContent, IconButton} from \"@mui/material\";\n// import BuildOutlinedIcon from '@mui/icons-material/BuildOutlined';\n// import DeleteForeverOutlinedIcon from '@mui/icons-material/DeleteForeverOutlined';\n// import DisabledByDefaultOutlinedIcon from \"@mui/icons-material/DisabledByDefaultOutlined\";\n// import moment from \"moment\";\n// const MarketDetail = () => {\n//   // URL 파라미터 받기 - board의 id\n//   const {boardId} = useParams();\n//   const [board, setBoard] = useState({});\n//   const [isLoaded, setIsLoaded] = useState(false);\n//   const token = localStorage.getItem(\"access\")\n//   const navigate = useNavigate();\n//   // modal이 보이는 여부 상태\n//   const [show, setShow] = useState(false);\n//   // board 가져오기\n//   useEffect(() => {\n//     const getBoard = async () => {\n//       const {data} =\n//         // axios.defaults.headers.common['accessToken'] = `Bearer ${localStorage.getItem(\"access\")}`\n//       await axios.get(`/api/board/${boardId}/detail`);\n//       return data;\n//     }\n//     getBoard().then(result => setBoard(result)).then(() => setIsLoaded(true));\n//   }, [])\n//   return (\n//     <React.Fragment>\n//       {isLoaded && (\n//         <div className=\"board-wrapper\">\n//           {\n//             /*\n//               해당 글의 작성자가 로그인을 했을 때만 수정, 삭제 버튼이 보이게 하자.\n//               로그인을 한 사용자의 jwt-token에서 user의 ID를 추출한 후,\n//               board(해당 글)의 user의 ID를 비교했을 때 같으면 수정, 삭제 버튼이 보이게 한다.\n//               ID는 DB에 저장되어 있는 유저의 고유 번호이다.\n//              */\n//             jwtUtils.isAuth(token) && jwtUtils.getuserId(token) === board.user.id &&\n//             <div className=\"edit-delete-button\">\n//               <Button\n//                 variant=\"outlined\" color=\"error\" endIcon={<DeleteForeverOutlinedIcon/>}\n//                 className=\"delete-button\"\n//                 onClick={() => {\n//                   setShow(true)\n//                 }}\n//               >\n//                 삭제\n//               </Button>\n//               <Button\n//                 variant=\"outlined\" endIcon={<BuildOutlinedIcon/>}\n//                 onClick={() => {\n//                   navigate(`/edit-board/${boardId}`)\n//                 }}\n//               >\n//                 수정\n//               </Button>\n//             </div>\n//           }\n//           <div className=\"board-header\">\n//             <div className=\"board-header-username\">{board.user.username}</div>\n//             <div className=\"board-header-date\">{moment(board.created).add(9,\"hour\").format('YYYY-MM-DD')}</div>\n//           </div>\n//           <hr/>\n//           <div className=\"board-body\">\n//             <div className=\"board-title-content\">\n//               <div className=\"board-title\">{board.title}</div>\n//               <div className=\"board-content\">{board.content}</div>\n//             </div>\n//           </div>\n//           <hr/>\n//           <div className=\"board-footer\"></div>\n//         </div>\n//       )}\n//       {/*modal*/}\n//       <Dialog open={show}>\n//         <DialogContent style={{position: \"relative\"}}>\n//           <IconButton\n//             style={{position: \"absolute\", top: \"0\", right: \"0\"}}\n//             onClick={() => setShow(false)}\n//           >\n//             <DisabledByDefaultOutlinedIcon/>\n//           </IconButton>\n//           <div className=\"modal\">\n//             <div className=\"modal-title\"> 정말 삭제하시겠습니까 ?</div>\n//             <div className=\"modal-button\">\n//               <Button\n//                 variant=\"outlined\"\n//                 color=\"error\"\n//                 onClick={async () => {\n//                   setShow(false);\n//                   // 모달의 예 버튼 클릭시 게시물 삭제\n//                   await axios.delete(`/api/v1/boards/${boardsId}`);\n//                   alert(\"게시물이 삭제되었습니다😎\");\n//                   window.location.href = \"/market\";\n//                 }}\n//               >\n//                 예\n//               </Button>\n//               <Button\n//                 variant=\"outlined\"\n//                 color=\"primary\"\n//                 onClick={() => {\n//                   setShow(false)\n//                 }}\n//               >\n//                 아니오\n//               </Button>\n//             </div>\n//           </div>\n//         </DialogContent>\n//       </Dialog>\n//     </React.Fragment>\n//   );\n// }\n// export default MarketDetail;\n\n"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,SAASC,SAAT,QAA0B,kBAA1B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,MAAT,QAAuB,iBAAvB;AACA,SAASC,IAAT,QAAqB,kBAArB;;;;AAGA,SAASC,YAAT,GAAwB;EAAA;;EAEpB,MAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBR,QAAQ,CAAC,EAAD,CAAhC;EACA,MAAM;IAACS;EAAD,IAAaP,SAAS,EAA5B;EAEAD,SAAS,CAAC,MAAM;IAEZE,KAAK,CAACO,QAAN,CAAeC,OAAf,CAAuBC,MAAvB,CAA8B,aAA9B,IAAgD,UAASC,YAAY,CAACC,OAAb,CAAqB,QAArB,CAA+B,EAAxF;IACAX,KAAK,CAACY,GAAN,CAAW,kBAAiBN,QAAS,SAArC,EAECO,IAFD,CAEOC,QAAD,IAAe;MACnBT,OAAO,CAACS,QAAQ,CAACV,IAAV,CAAP;MACAW,OAAO,CAACC,GAAR,CAAYF,QAAZ;IACD,CALD;EAOD,CAVM,EAUJ,EAVI,CAAT;;EAcA,SAASG,MAAT,GAAkB;IACdjB,KAAK,CAACO,QAAN,CAAeC,OAAf,CAAuBC,MAAvB,CAA8B,aAA9B,IAAgD,UAASC,YAAY,CAACC,OAAb,CAAqB,QAArB,CAA+B,EAAxF;IACAX,KAAK,CAACkB,MAAN,CAAc,kBAAiBZ,QAAS,EAAxC,EACCO,IADD,CAEEM,MAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAuB,SAFzB,EAGEC,KAAK,CAAC,WAAD,CAHP;EAKD;;EAIH,oBACI;IAAK,SAAS,EAAC,gDAAf;IAAA,UACClB,IAAI,iBAED;MAAA,wBACA;QAAK,SAAS,EAAC,UAAf;QAAA,yCAGO;UAAO,KAAK,EAAEA,IAAI,CAACmB;QAAnB;UAAA;UAAA;UAAA;QAAA,QAHP,eAGkC;UAAA;UAAA;UAAA;QAAA,QAHlC,gCAIO;UAAO,KAAK,EAAEnB,IAAI,CAACoB;QAAnB;UAAA;UAAA;UAAA;QAAA,QAJP,eAIoC;UAAA;UAAA;UAAA;QAAA,QAJpC,sCAKQ;UAAK,GAAG,EAAEpB,IAAI,CAACqB,YAAf;UAA6B,GAAG,EAAErB,IAAI,CAACsB,QAAvC;UAAiD,KAAK,EAAC,KAAvD;UAA6D,MAAM,EAAC;QAApE;UAAA;UAAA;UAAA;QAAA,QALR,eAKqF;UAAA;UAAA;UAAA;QAAA,QALrF,sCAMQ;UAAO,KAAK,EAAEtB,IAAI,CAACuB;QAAnB;UAAA;UAAA;UAAA;QAAA,QANR,eAMsC;UAAA;UAAA;UAAA;QAAA,QANtC,sCAOQ;UAAO,KAAK,EAAEvB,IAAI,CAACwB;QAAnB;UAAA;UAAA;UAAA;QAAA,QAPR,eAOwC;UAAA;UAAA;UAAA;QAAA,QAPxC;MAAA;QAAA;QAAA;QAAA;MAAA,QADA,eAaA,QAAC,IAAD;QAAM,EAAE,EAAG,iBAAgBtB,QAAS,EAApC;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAbA,eAcA,QAAC,MAAD;QAAQ,OAAO,EAAE,MAAMW,MAAM,CAACb,IAAI,CAACE,QAAN,CAA7B;QAA8C,OAAO,EAAC,QAAtD;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAdA;IAAA;EAHJ;IAAA;IAAA;IAAA;EAAA,QADJ;AA2BH;;GAzDQH,Y;UAGcJ,S;;;KAHdI,Y;AA2DT,eAAeA,YAAf,C,CAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"},"metadata":{},"sourceType":"module"}